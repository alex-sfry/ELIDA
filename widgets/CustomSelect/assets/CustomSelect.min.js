class CustomSelect{constructor(t){if(!t)return console.log("provide config for CustomSelect");this.config=t,this.selectedItemsDiv=document.querySelector(`#${t.container} .selected-items`),this.itemsToSubmitSelect=document.querySelector("#"+t.toSubmit),this.form=this.itemsToSubmitSelect.closest("form"),this.label=document.querySelector(`#${t.container} label[for=${t.toSubmit}]`),this.initDropdownValues(),this.setEventListeners(),this.setSelectedItemsDivMsg()}initDropdownValues(){this.selectedItemsDiv.querySelectorAll("div").forEach(e=>{[...this.getDropdownListItems()].find(t=>t.textContent.trim()===e.textContent.trim()).classList.add("d-none")})}handleDropdownInput(e){console.log(this.config.filterMethod),"startsWith"===this.config.filterMethod?this.getDropdownListItems().forEach(t=>{t.textContent.toLowerCase().trim().startsWith(e.target.value.toLowerCase().trim())?t.classList.remove("hidden"):t.classList.add("hidden")}):"includes"===this.config.filterMethod&&this.getDropdownListItems().forEach(t=>{t.textContent.toLowerCase().trim().includes(e.target.value.toLowerCase().trim())?t.classList.remove("hidden"):t.classList.add("hidden")})}handleDropdownItemClick(e){var t,s;e.target.classList.contains("c-list-item")&&5!==this.itemsToSubmitSelect.querySelectorAll("option").length&&(t=document.querySelector(`#${this.config.toSubmit} option`)?document.querySelector(`#${this.config.toSubmit} option[value="${e.target.textContent.trim()}"]`):null,(s=document.createElement("div")).classList.add("ps-1","rounded-2","bg-info"),s.innerHTML=e.target.textContent+`
            <span class="border-start border-1 border-black"></span>
            <button class="close border-0 rounded-2 m-0 p-0" type="button" aria-label="Close">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="svg-close bi bi-x" viewBox="0 0 16 16">
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
                </svg>
            </button>
        `,this.selectedItemsDiv.textContent===this.config.placeholder&&(this.selectedItemsDiv.textContent=""),this.selectedItemsDiv.appendChild(s),(s=[...this.getDropdownListItems()].find(t=>t.textContent.trim()===e.target.textContent.trim()))&&s.classList.add("d-none"),!t)&&((s=document.createElement("option")).setAttribute("value",e.target.textContent.trim()),s.setAttribute("selected",""),this.itemsToSubmitSelect.appendChild(s))}handleDeleteSelectedItem(t){if(t.target.matches("button > .svg-close")||t.target.matches("button > .svg-close > path")){const e=t.target.closest(`#${this.config.container} .c-select .selected-items > div`);e.remove();t=this.itemsToSubmitSelect.querySelector(`option[value="${e.textContent.trim()}"]`);[...this.getDropdownListItems()].find(t=>t.textContent.trim()===e.textContent.trim()).classList.remove("d-none"),t.remove()}this.setSelectedItemsDivMsg()}setInvalid(t,e,s){s.classList.add("text-danger"),t.classList.add("is-invalid"),e.classList.add("border-2","border-danger"),e.classList.remove("border-dark")}setValid(t,e,s){s.classList.remove("text-danger"),t.classList.remove("is-invalid"),e.classList.remove("border-2","border-danger"),e.classList.add("border-dark")}isValidated(t,e){t.checkValidity()?this.setValid(this.itemsToSubmitSelect,this.selectedItemsDiv,e):this.setInvalid(this.itemsToSubmitSelect,this.selectedItemsDiv,e)}setEventListeners(){var t=document.querySelector("#"+this.config.search),e=document.querySelector(`#${this.config.container} .c-list`);t.addEventListener("input",t=>this.handleDropdownInput(t)),this.selectedItemsDiv.addEventListener("click",t=>this.handleDeleteSelectedItem(t)),e.addEventListener("click",t=>this.handleDropdownItemClick(t)),this.form.addEventListener("submit",()=>this.isValidated(this.itemsToSubmitSelect,this.label))}getDropdownListItems(){return document.querySelectorAll(`#${this.config.search} + ul > .dropdown-item`)}setSelectedItemsDivMsg(){0===this.selectedItemsDiv.querySelectorAll("div").length&&(this.selectedItemsDiv.textContent=this.config.placeholder)}}console.log("ok1");
//# sourceMappingURL=CustomSelect.min.js.map
