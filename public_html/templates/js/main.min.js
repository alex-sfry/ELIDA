(()=>{"use strict";const e=e=>{"[0-9]+"===$(e).attr("pattern")&&("Please match the requested format."===e.validationMessage?$(`#${$(e).attr("id")} ~ .invalid-feedback`).text("Only numeric values are allowed"):$(`#${$(e).attr("id")} ~ .invalid-feedback`).text("Field must not be empty"))},t=(e,t,i)=>{const o=$("#tr-form"),a=$(".tr-route");i(a);$(".btn-copy").on("click",(function(){navigator.clipboard.writeText($(this).siblings(".table-link-tr").text()),$(this).text("copied").addClass("btn-copy-active"),$(".btn-copy:contains('copied')").not(this).text("copy").removeClass("btn-copy-active")})),o.on("submit",(i=>(i=>{const s=$("#cargo").get(0),n=$("#profit").get(0);o.get(0).checkValidity()?t(o,a):($("#tr-form").addClass("was-validated"),i.preventDefault()),e(s),e(n)})(i)))},i=e=>({searchField:e.searchField,valueField:e.valueField,labelField:e.labelField,plugins:e.plugins,sortField:[{field:"$order"},{field:"$score"}],loadThrottle:500,hideSelected:!0,highlight:!1,shouldLoad:e=>!(e.length<2),load:async function(t,i){console.log(t),this.clearOptions();try{const o=await fetch(`${e.endpoint}${t}`);o.ok?i(await o.json()):console.log("fetch error")}catch(e){console.log(e.message),i()}}});(()=>{const e=document.querySelector(".cookies-consent-wrapper");e.querySelector("button").addEventListener("click",(()=>{document.cookie="CookieBy=ELIDA; max-age=2592000",document.cookie?e.classList.add("hide"):alert("Cookie can't be set! Please unblock this site from the cookie setting of your browser.")}));-1===document.cookie.indexOf("CookieBy=ELIDA")?e.classList.remove("hide"):e.classList.add("hide")})();const o=()=>{$(".menu__link").each((function(){$(this).attr("href")===window.location.pathname?($(this).addClass("active"),$(this).closest(".menu__item").children(".menu__link").addClass("active")):($(this).removeClass("active"),$(this).closest(".menu__link").removeClass("active"))}))},a=()=>{$(".footer__link").each((function(){$(this).attr("href")===window.location.pathname||window.location.pathname.includes($(this).attr("href"))?$(this).addClass("active"):$(this).removeClass("active")}))},s=(e,t)=>{e.after("<div class='c-loading my-0 mx-auto text-light bg-info rounded-2 px-3 py-1 fw-bold'>Loading . . .</div>"),t.length&&(t.addClass("d-none"),$(".c-pagination-cnt").addClass("d-none"),$(".c-result-legend").addClass("d-none"))},n=e=>{if(e.length){const e=$(".c-loading");e.length&&e.remove()}};document.addEventListener("DOMContentLoaded",(()=>{if(o(),a(),$("#c-form").length&&((e,t)=>{const i=$("#c-form"),o=$(".c-table");t(o),i.on("submit",(t=>{i.get(0).checkValidity()?e(i,o):(i.addClass("was-validated"),t.preventDefault())}))})(s,n),$("#mod-form").length&&((e,t)=>{const i=$("#mod-form"),o=$(".mod-table");t(o),i.on("submit",(t=>{i.get(0).checkValidity()?e(i,o):(i.addClass("was-validated"),t.preventDefault())}))})(s,n),$("#ships-form").length&&((e,t)=>{const i=$("#ships-form"),o=$(".ships-table");t(o),i.on("submit",(t=>{i.get(0).checkValidity()?e(i,o):(i.addClass("was-validated"),t.preventDefault())}))})(s,n),$("#tr-form").length&&t(e,s,n),$("#mt-form").length&&(()=>{const e=$("#mt-form");e.on("submit",(t=>{e.get(0).checkValidity()||(e.addClass("was-validated"),t.preventDefault())}))})(),$("#rings-form").length&&((e,t)=>{new TomSelect("#refSystem",i({searchField:"system",valueField:"system",labelField:"system",plugins:["dropdown_input"],endpoint:"/system/get/"}));const o=$("#rings-form"),a=$(".rings-table");t(a),o.on("submit",(t=>{o.get(0).checkValidity()?e(o,a):(t.preventDefault(),o.addClass("was-validated"))})),$(".tselect-lbl-1").attr("for","refSystem"),$(".tselect-lbl-1").removeAttr("id")})(s,n),$("#accordionForm .accordion-button").on("click",(function(){"Close form"===$(this).text().trim()?$(this).text("Open form"):"Open form"===$(this).text().trim()&&$(this).text("Close form")})),$(!0)){const e=$(".filters .btn");e.on("click",(function(){e.prev().trigger("change.yiiGridView")})),$(".filters input").on("change",(function(){return!1}))}}))})();
//# sourceMappingURL=main.min.js.map