{"version":3,"file":"js/main.min.js","mappings":"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","sources":["webpack://webpack-eddn/./src/script/commodities.js","webpack://webpack-eddn/./src/script/tradeRoutes.js","webpack://webpack-eddn/./src/script/isValidated.js","webpack://webpack-eddn/./src/script/main.js"],"sourcesContent":["export const commoditiesForm = (loader, removeLoader) => {\r\n    const form = document.querySelector('#c-form');\r\n    const table = document.querySelector('.c-table');\r\n    const pagination = document.querySelector('.pagination');\r\n    removeLoader(table);\r\n\r\n    const handleSubmit = (e) => {\r\n        const form = document.querySelector('#c-form');\r\n\r\n        if (!form.checkValidity()) {\r\n            e.preventDefault();\r\n        } else loader(form, table);\r\n    };\r\n\r\n    const handlePagination = (id, first, prev, next, last) => {\r\n        const firstPageBtn = document.querySelector(`#${id} .page-item.${first} > .page-link`);\r\n        const lastPageBtn = document.querySelector(`#${id} .page-item.${last} > .page-link`);\r\n        const prevPageBtn = document.querySelector(`#${id} .page-item.${prev} > .page-link`);\r\n        const nextPageBtn = document.querySelector(`#${id} .page-item.${next} > .page-link`);\r\n\r\n        const removeStaticBtns = (btns) => {\r\n            btns.splice(0, 2);\r\n            btns.splice(-2, 2);\r\n\r\n            return btns;\r\n        };\r\n\r\n        const getPageBtns = () => {\r\n            return Array.from(document.querySelectorAll(`#${id} .page-item > .page-link`));\r\n        };\r\n\r\n        const getNewPagaData = async (url) => {\r\n            try {\r\n                const res = await fetch(\r\n                    url, {\r\n                        method: 'GET',\r\n                        headers: {\r\n                            contentType: 'application/json',\r\n                        },\r\n                    });\r\n\r\n                if (res.ok) {\r\n                    return await res.json();\r\n                }\r\n            }\r\n            catch (error) {\r\n                console.log(error.message);\r\n            }\r\n        };\r\n\r\n        const renderNewPageBtns = (links, page, lastPage) => {\r\n            document.querySelectorAll('li.disabled').forEach(item => {\r\n                item.classList.remove('disabled');\r\n                item.classList.remove('active');\r\n            });\r\n\r\n            prevPageBtn.setAttribute('href', `${links.prev}`);\r\n            nextPageBtn.setAttribute('href', `${links.next}`);\r\n\r\n            if (links.self !== links.last && links.self !== links.first) {\r\n                removeStaticBtns(getPageBtns()).forEach((item, index) => {\r\n                    if (page + 2 < lastPage && page - 2 >= 1) {\r\n                        console.log('page', page);\r\n                        item.textContent = page - 2 + index;\r\n                        item.setAttribute('data-page', page - 2 + index);\r\n                    } else if (page - 2 < 1) {\r\n                        console.log('page', page);\r\n                        item.setAttribute('data-page', page - 1 + index);\r\n                    } else if (page + 2 > lastPage) {\r\n                        console.log('page', page)\r\n                        item.textContent = page - 3 + index;\r\n                        item.setAttribute('data-page', page - 3 + index);\r\n                    }\r\n\r\n                    item.setAttribute('href', `${links.first.substring(0, links.first.length - 1)}${item.textContent}`);\r\n                });\r\n\r\n                document.querySelector(`[data-page='${page}']`).parentElement.classList.add('active', 'disabled');\r\n            } else if (links.self === links.first) {\r\n                console.log('page', page);\r\n                removeStaticBtns(getPageBtns()).forEach((item, index) => {\r\n                    firstPageBtn.parentElement.classList.add('disabled');\r\n                    prevPageBtn.parentElement.classList.add('disabled');\r\n                    item.textContent = page + index;\r\n                    item.setAttribute('data-page', page + index);\r\n                    item.setAttribute('href', `${links.first.substring(0, links.first.length - 1)}${item.textContent}`);\r\n                });\r\n\r\n                document.querySelector(`[data-page='${page}']`).parentElement.classList.add('active', 'disabled');\r\n            } else if (links.self === links.last) {\r\n                console.log('page', page);\r\n                removeStaticBtns(getPageBtns()).forEach((item, index) => {\r\n                    lastPageBtn.parentElement.classList.add('disabled');\r\n                    nextPageBtn.parentElement.classList.add('disabled');\r\n\r\n                    item.textContent = page - 4 + index;\r\n                    item.setAttribute('data-page', page - 4 + index);\r\n                    item.setAttribute('href', `${links.first.substring(0, links.first.length - 1)}${item.textContent}`);\r\n                });\r\n\r\n                document.querySelector(`[data-page='${page}']`).parentElement.classList.add('active', 'disabled');\r\n            }\r\n        };\r\n\r\n        const handleClick = async (e) => {\r\n            e.preventDefault();\r\n            const res = await getNewPagaData(e.currentTarget.getAttribute('href'));\r\n            renderNewPageBtns(res.links, res.page + 1, res.lastPage);\r\n        };\r\n\r\n        getPageBtns().forEach(item => item.addEventListener('click', handleClick));\r\n    };\r\n\r\n    form.addEventListener('submit', (e) => handleSubmit(e));\r\n\r\n    if (pagination) {\r\n        handlePagination('pgr01', 'first', 'prev-page', 'next-page', 'last');\r\n        handlePagination('pgr02', 'first', 'prev-page', 'next-page', 'last');\r\n    }\r\n};\r\n","export const tradeRouteForm = (isValidated, loader, removeLoader) => {\r\n    const form = document.querySelector('#tr-form');\r\n    const handleSubmit = (e) => {\r\n        const cargoSpaceLabel = document.querySelector('label[for=\\'cargo\\']');\r\n        const cargoSpace = document.querySelector('#cargo');\r\n        const profitLabel = document.querySelector('label[for=\\'profit\\']');\r\n        const profit = document.querySelector('#profit');\r\n\r\n        if (!form.checkValidity()) {\r\n            e.preventDefault();\r\n        }\r\n\r\n        isValidated(cargoSpace, cargoSpaceLabel);\r\n        isValidated(profit, profitLabel);\r\n    };\r\n\r\n    form.addEventListener('submit', (e) => handleSubmit(e));\r\n\r\n    // const observer = new MutationObserver(handleSelectedSysChange);\r\n    // observer.observe(selectedSys, {childList: true});\r\n};","export const isValidated = (elem, elemLabel) => {\r\n    if (!elem.checkValidity()) {\r\n        setInvalid(elem, elemLabel);\r\n    } else {\r\n        setValid(elem, elemLabel);\r\n    }\r\n};\r\n\r\nconst setInvalid = (elem, elemLabel) => {\r\n    elemLabel.classList.add('text-danger', 'is-invalid');\r\n    elem.classList.remove('border-dark');\r\n    elem.classList.add('is-invalid', 'border-2', 'border-danger');\r\n};\r\n\r\nconst setValid = (elem, elemLabel) => {\r\n    elemLabel.classList.remove('text-danger', 'is-invalid');\r\n    elem.classList.add('border-dark');\r\n    elem.classList.remove('is-invalid', 'border-2', 'border-danger');\r\n};\r\n\r\n","import '../styles/scss/style.scss';\r\n// import '../styles/bootstrapSCSS/bootstrap.scss';\r\nimport {commoditiesForm} from './commodities.js';\r\nimport {tradeRouteForm} from './tradeRoutes.js';\r\nimport {isValidated} from './isValidated.js';\r\n\r\nconst initHeader = () => {\r\n    document.querySelectorAll('.menu__link').forEach(item => {\r\n        if (item.getAttribute('href') === window.location.pathname ||\r\n            window.location.pathname.includes(item.getAttribute('href'))) {\r\n            item.classList.add('active');\r\n        } else item.classList.remove('active');\r\n    });\r\n};\r\n\r\nconst loader = (insertElem, hideElem) => {\r\n    insertElem.insertAdjacentHTML(\r\n        'afterend',\r\n        \"<div class='c-loading my-0 mx-auto text-light bg-light-orange rounded-2 p-2 fw-bold'>Loading . . .</div>\"\r\n    );\r\n\r\n    if (hideElem) {\r\n        hideElem.classList.add('d-none');\r\n        document.querySelectorAll('.Zebra_Pagination').forEach( item => {\r\n            item.classList.add('d-none');\r\n        });\r\n    }\r\n};\r\n\r\nconst removeLoader = (elem) => {\r\n    if (elem) {\r\n        const loadingPlaceholder = document.querySelector('.c-loading');\r\n        loadingPlaceholder && loadingPlaceholder.remove();\r\n    }\r\n};\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    initHeader();\r\n    if (document.querySelector('#c-form'))  commoditiesForm(loader, removeLoader);\r\n    if (document.querySelector('#tr-form'))  tradeRouteForm(isValidated, loader, removeLoader);\r\n});\r\n\r\n\r\n"],"names":["commoditiesForm","loader","removeLoader","form","document","querySelector","table","pagination","handlePagination","id","first","prev","next","last","firstPageBtn","concat","lastPageBtn","prevPageBtn","nextPageBtn","removeStaticBtns","btns","splice","getPageBtns","Array","from","querySelectorAll","handleClick","async","e","preventDefault","res","fetch","url","method","headers","contentType","ok","json","error","console","log","message","getNewPagaData","currentTarget","getAttribute","renderNewPageBtns","links","page","lastPage","forEach","item","classList","remove","setAttribute","self","index","textContent","substring","length","parentElement","add","addEventListener","checkValidity","handleSubmit","tradeRouteForm","isValidated","cargoSpaceLabel","cargoSpace","profitLabel","profit","elem","elemLabel","setValid","setInvalid","insertElem","hideElem","insertAdjacentHTML","loadingPlaceholder","window","location","pathname","includes"],"sourceRoot":""}