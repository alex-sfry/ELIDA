{"version":3,"file":"yii.js","sources":["yii.js"],"sourcesContent":["/**\n * Yii JavaScript module.\n *\n * @link https://www.yiiframework.com/\n * @copyright Copyright (c) 2008 Yii Software LLC\n * @license https://www.yiiframework.com/license/\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @since 2.0\n */\n\n/**\n * yii is the root module for all Yii JavaScript modules.\n * It implements a mechanism of organizing JavaScript code in modules through the function \"yii.initModule()\".\n *\n * Each module should be named as \"x.y.z\", where \"x\" stands for the root module (for the Yii core code, this is \"yii\").\n *\n * A module may be structured as follows:\n *\n * ```javascript\n * window.yii.sample = (function($) {\n *     var pub = {\n *         // whether this module is currently active. If false, init() will not be called for this module\n *         // it will also not be called for all its child modules. If this property is undefined, it means true.\n *         isActive: true,\n *         init: function() {\n *             // ... module initialization code goes here ...\n *         },\n *\n *         // ... other public functions and properties go here ...\n *     };\n *\n *     // ... private functions and properties go here ...\n *\n *     return pub;\n * })(window.jQuery);\n * ```\n *\n * Using this structure, you can define public and private functions/properties for a module.\n * Private functions/properties are only visible within the module, while public functions/properties\n * may be accessed outside of the module. For example, you can access \"yii.sample.isActive\".\n *\n * You must call \"yii.initModule()\" once for the root module of all your modules.\n */\nwindow.yii = (function ($) {\n    var pub = {\n        /**\n         * List of JS or CSS URLs that can be loaded multiple times via AJAX requests.\n         * Each item may be represented as either an absolute URL or a relative one.\n         * Each item may contain a wildcard matching character `*`, that means one or more\n         * any characters on the position. For example:\n         *  - `/css/*.css` will match any file ending with `.css` in the `css` directory of the current web site\n         *  - `http*://cdn.example.com/*` will match any files on domain `cdn.example.com`, loaded with HTTP or HTTPS\n         *  - `/js/myCustomScript.js?realm=*` will match file `/js/myCustomScript.js` with defined `realm` parameter\n         */\n        reloadableScripts: [],\n        /**\n         * The selector for clickable elements that need to support confirmation and form submission.\n         */\n        clickableSelector: 'a, button, input[type=\"submit\"], input[type=\"button\"], input[type=\"reset\"], ' +\n            'input[type=\"image\"]',\n        /**\n         * The selector for changeable elements that need to support confirmation and form submission.\n         */\n        changeableSelector: 'select, input, textarea',\n\n        /**\n         * @return string|undefined the CSRF parameter name. Undefined is returned if CSRF validation is not enabled.\n         */\n        getCsrfParam: function () {\n            return $('meta[name=csrf-param]').attr('content');\n        },\n\n        /**\n         * @return string|undefined the CSRF token. Undefined is returned if CSRF validation is not enabled.\n         */\n        getCsrfToken: function () {\n            return $('meta[name=csrf-token]').attr('content');\n        },\n\n        /**\n         * Sets the CSRF token in the meta elements.\n         * This method is provided so that you can update the CSRF token with the latest one you obtain from the server.\n         * @param name the CSRF token name\n         * @param value the CSRF token value\n         */\n        setCsrfToken: function (name, value) {\n            $('meta[name=csrf-param]').attr('content', name);\n            $('meta[name=csrf-token]').attr('content', value);\n        },\n\n        /**\n         * Updates all form CSRF input fields with the latest CSRF token.\n         * This method is provided to avoid cached forms containing outdated CSRF tokens.\n         */\n        refreshCsrfToken: function () {\n            var token = pub.getCsrfToken();\n            if (token) {\n                $('form input[name=\"' + pub.getCsrfParam() + '\"]').val(token);\n            }\n        },\n\n        /**\n         * Displays a confirmation dialog.\n         * The default implementation simply displays a js confirmation dialog.\n         * You may override this by setting `yii.confirm`.\n         * @param message the confirmation message.\n         * @param ok a callback to be called when the user confirms the message\n         * @param cancel a callback to be called when the user cancels the confirmation\n         */\n        confirm: function (message, ok, cancel) {\n            if (window.confirm(message)) {\n                !ok || ok();\n            } else {\n                !cancel || cancel();\n            }\n        },\n\n        /**\n         * Handles the action triggered by user.\n         * This method recognizes the `data-method` attribute of the element. If the attribute exists,\n         * the method will submit the form containing this element. If there is no containing form, a form\n         * will be created and submitted using the method given by this attribute value (e.g. \"post\", \"put\").\n         * For hyperlinks, the form action will take the value of the \"href\" attribute of the link.\n         * For other elements, either the containing form action or the current page URL will be used\n         * as the form action URL.\n         *\n         * If the `data-method` attribute is not defined, the `href` attribute (if any) of the element\n         * will be assigned to `window.location`.\n         *\n         * Starting from version 2.0.3, the `data-params` attribute is also recognized when you specify\n         * `data-method`. The value of `data-params` should be a JSON representation of the data (name-value pairs)\n         * that should be submitted as hidden inputs. For example, you may use the following code to generate\n         * such a link:\n         *\n         * ```php\n         * use yii\\helpers\\Html;\n         * use yii\\helpers\\Json;\n         *\n         * echo Html::a('submit', ['site/foobar'], [\n         *     'data' => [\n         *         'method' => 'post',\n         *         'params' => [\n         *             'name1' => 'value1',\n         *             'name2' => 'value2',\n         *         ],\n         *     ],\n         * ]);\n         * ```\n         *\n         * @param $e the jQuery representation of the element\n         * @param event Related event\n         */\n        handleAction: function ($e, event) {\n            var $form = $e.attr('data-form') ? $('#' + $e.attr('data-form')) : $e.closest('form'),\n                method = !$e.data('method') && $form ? $form.attr('method') : $e.data('method'),\n                action = $e.attr('href'),\n                isValidAction = action && action !== '#',\n                params = $e.data('params'),\n                areValidParams = params && $.isPlainObject(params),\n                pjax = $e.data('pjax'),\n                usePjax = pjax !== undefined && pjax !== 0 && $.support.pjax,\n                pjaxContainer,\n                pjaxOptions = {},\n                conflictParams = ['submit', 'reset', 'elements', 'length', 'name', 'acceptCharset',\n                    'action', 'enctype', 'method', 'target'];\n\n            // Forms and their child elements should not use input names or ids that conflict with properties of a form,\n            // such as submit, length, or method.\n            $.each(conflictParams, function (index, param) {\n                if (areValidParams && params.hasOwnProperty(param)) {\n                    console.error(\"Parameter name '\" + param + \"' conflicts with a same named form property. \" +\n                        \"Please use another name.\");\n                }\n            });\n\n            if (usePjax) {\n                pjaxContainer = $e.data('pjax-container');\n                if (pjaxContainer === undefined || !pjaxContainer.length) {\n                    pjaxContainer = $e.closest('[data-pjax-container]').attr('id')\n                        ? ('#' + $e.closest('[data-pjax-container]').attr('id'))\n                        : '';\n                }\n                if (!pjaxContainer.length) {\n                    pjaxContainer = 'body';\n                }\n                pjaxOptions = {\n                    container: pjaxContainer,\n                    push: !!$e.data('pjax-push-state'),\n                    replace: !!$e.data('pjax-replace-state'),\n                    scrollTo: $e.data('pjax-scrollto'),\n                    pushRedirect: $e.data('pjax-push-redirect'),\n                    replaceRedirect: $e.data('pjax-replace-redirect'),\n                    skipOuterContainers: $e.data('pjax-skip-outer-containers'),\n                    timeout: $e.data('pjax-timeout'),\n                    originalEvent: event,\n                    originalTarget: $e\n                };\n            }\n\n            if (method === undefined) {\n                if (isValidAction) {\n                    usePjax ? $.pjax.click(event, pjaxOptions) : window.location.assign(action);\n                } else if ($e.is(':submit') && $form.length) {\n                    if (usePjax) {\n                        $form.on('submit', function (e) {\n                            $.pjax.submit(e, pjaxOptions);\n                        });\n                    }\n                    $form.trigger('submit');\n                }\n                return;\n            }\n\n            var oldMethod,\n                oldAction,\n                newForm = !$form.length;\n            if (!newForm) {\n                oldMethod = $form.attr('method');\n                $form.attr('method', method);\n                if (isValidAction) {\n                    oldAction = $form.attr('action');\n                    $form.attr('action', action);\n                }\n            } else {\n                if (!isValidAction) {\n                    action = pub.getCurrentUrl();\n                }\n                $form = $('<form/>', {method: method, action: action});\n                var target = $e.attr('target');\n                if (target) {\n                    $form.attr('target', target);\n                }\n                if (!/(get|post)/i.test(method)) {\n                    $form.append($('<input/>', {name: '_method', value: method, type: 'hidden'}));\n                    method = 'post';\n                    $form.attr('method', method);\n                }\n                if (/post/i.test(method)) {\n                    var csrfParam = pub.getCsrfParam();\n                    if (csrfParam) {\n                        $form.append($('<input/>', {name: csrfParam, value: pub.getCsrfToken(), type: 'hidden'}));\n                    }\n                }\n                $form.hide().appendTo('body');\n            }\n\n            var activeFormData = $form.data('yiiActiveForm');\n            if (activeFormData) {\n                // Remember the element triggered the form submission. This is used by yii.activeForm.js.\n                activeFormData.submitObject = $e;\n            }\n\n            if (areValidParams) {\n                $.each(params, function (name, value) {\n                    $form.append($('<input/>').attr({name: name, value: value, type: 'hidden'}));\n                });\n            }\n\n            if (usePjax) {\n                $form.on('submit', function (e) {\n                    $.pjax.submit(e, pjaxOptions);\n                });\n            }\n\n            $form.trigger('submit');\n\n            $.when($form.data('yiiSubmitFinalizePromise')).done(function () {\n                if (newForm) {\n                    $form.remove();\n                    return;\n                }\n\n                if (oldAction !== undefined) {\n                    $form.attr('action', oldAction);\n                }\n                $form.attr('method', oldMethod);\n\n                if (areValidParams) {\n                    $.each(params, function (name) {\n                        $('input[name=\"' + name + '\"]', $form).remove();\n                    });\n                }\n            });\n        },\n\n        getQueryParams: function (url) {\n            var pos = url.indexOf('?');\n            if (pos < 0) {\n                return {};\n            }\n\n            var pairs = $.grep(url.substring(pos + 1).split('#')[0].split('&'), function (value) {\n                return value !== '';\n            });\n            var params = {};\n\n            for (var i = 0, len = pairs.length; i < len; i++) {\n                var pair = pairs[i].split('=');\n                var name = decodeURIComponent(pair[0].replace(/\\+/g, '%20'));\n                var value = pair.length > 1 ? decodeURIComponent(pair[1].replace(/\\+/g, '%20')) : '';\n                if (!name.length) {\n                    continue;\n                }\n                if (params[name] === undefined) {\n                    params[name] = value || '';\n                } else {\n                    if (!$.isArray(params[name])) {\n                        params[name] = [params[name]];\n                    }\n                    params[name].push(value || '');\n                }\n            }\n\n            return params;\n        },\n\n        initModule: function (module) {\n            if (module.isActive !== undefined && !module.isActive) {\n                return;\n            }\n            if ($.isFunction(module.init)) {\n                module.init();\n            }\n            $.each(module, function () {\n                if ($.isPlainObject(this)) {\n                    pub.initModule(this);\n                }\n            });\n        },\n\n        init: function () {\n            initCsrfHandler();\n            initRedirectHandler();\n            initAssetFilters();\n            initDataMethods();\n        },\n\n        /**\n         * Returns the URL of the current page without params and trailing slash. Separated and made public for testing.\n         * @returns {string}\n         */\n        getBaseCurrentUrl: function () {\n            return window.location.protocol + '//' + window.location.host;\n        },\n\n        /**\n         * Returns the URL of the current page. Used for testing, you can always call `window.location.href` manually\n         * instead.\n         * @returns {string}\n         */\n        getCurrentUrl: function () {\n            return window.location.href;\n        }\n    };\n\n    function initCsrfHandler()\n    {\n        // automatically send CSRF token for all AJAX requests\n        $.ajaxPrefilter(function (options, originalOptions, xhr) {\n            if (!options.crossDomain && pub.getCsrfParam()) {\n                xhr.setRequestHeader('X-CSRF-Token', pub.getCsrfToken());\n            }\n        });\n        pub.refreshCsrfToken();\n    }\n\n    function initRedirectHandler()\n    {\n        // handle AJAX redirection\n        $(document).ajaxComplete(function (event, xhr) {\n            var url = xhr && xhr.getResponseHeader('X-Redirect');\n            if (url) {\n                window.location.assign(url);\n            }\n        });\n    }\n\n    function initAssetFilters()\n    {\n        /**\n         * Used for storing loaded scripts and information about loading each script if it's in the process of loading.\n         * A single script can have one of the following values:\n         *\n         * - `undefined` - script was not loaded at all before or was loaded with error last time.\n         * - `true` (boolean) -  script was successfully loaded.\n         * - object - script is currently loading.\n         *\n         * In case of a value being an object the properties are:\n         * - `xhrList` - represents a queue of XHR requests sent to the same URL (related with this script) in the same\n         * small period of time.\n         * - `xhrDone` - boolean, acts like a locking mechanism. When one of the XHR requests in the queue is\n         * successfully completed, it will abort the rest of concurrent requests to the same URL until cleanup is done\n         * to prevent possible errors and race conditions.\n         * @type {{}}\n         */\n        var loadedScripts = {};\n\n        $('script[src]').each(function () {\n            var url = getAbsoluteUrl(this.src);\n            loadedScripts[url] = true;\n        });\n\n        $.ajaxPrefilter('script', function (options, originalOptions, xhr) {\n            if (options.dataType == 'jsonp') {\n                return;\n            }\n\n            var url = getAbsoluteUrl(options.url),\n                forbiddenRepeatedLoad = loadedScripts[url] === true && !isReloadableAsset(url),\n                cleanupRunning = loadedScripts[url] !== undefined && loadedScripts[url]['xhrDone'] === true;\n\n            if (forbiddenRepeatedLoad || cleanupRunning) {\n                xhr.abort();\n                return;\n            }\n\n            if (loadedScripts[url] === undefined || loadedScripts[url] === true) {\n                loadedScripts[url] = {\n                    xhrList: [],\n                    xhrDone: false\n                };\n            }\n\n            xhr.done(function (data, textStatus, jqXHR) {\n                // If multiple requests were successfully loaded, perform cleanup only once\n                if (loadedScripts[jqXHR.yiiUrl]['xhrDone'] === true) {\n                    return;\n                }\n\n                loadedScripts[jqXHR.yiiUrl]['xhrDone'] = true;\n\n                for (var i = 0, len = loadedScripts[jqXHR.yiiUrl]['xhrList'].length; i < len; i++) {\n                    var singleXhr = loadedScripts[jqXHR.yiiUrl]['xhrList'][i];\n                    if (singleXhr && singleXhr.readyState !== XMLHttpRequest.DONE) {\n                        singleXhr.abort();\n                    }\n                }\n\n                loadedScripts[jqXHR.yiiUrl] = true;\n            }).fail(function (jqXHR, textStatus) {\n                if (textStatus === 'abort') {\n                    return;\n                }\n\n                delete loadedScripts[jqXHR.yiiUrl]['xhrList'][jqXHR.yiiIndex];\n\n                var allFailed = true;\n                for (var i = 0, len = loadedScripts[jqXHR.yiiUrl]['xhrList'].length; i < len; i++) {\n                    if (loadedScripts[jqXHR.yiiUrl]['xhrList'][i]) {\n                        allFailed = false;\n                    }\n                }\n\n                if (allFailed) {\n                    delete loadedScripts[jqXHR.yiiUrl];\n                }\n            });\n            // Use prefix for custom XHR properties to avoid possible conflicts with existing properties\n            xhr.yiiIndex = loadedScripts[url]['xhrList'].length;\n            xhr.yiiUrl = url;\n\n            loadedScripts[url]['xhrList'][xhr.yiiIndex] = xhr;\n        });\n\n        $(document).ajaxComplete(function () {\n            var styleSheets = [];\n            $('link[rel=stylesheet]').each(function () {\n                var url = getAbsoluteUrl(this.href);\n                if (isReloadableAsset(url)) {\n                    return;\n                }\n\n                $.inArray(url, styleSheets) === -1 ? styleSheets.push(url) : $(this).remove();\n            });\n        });\n    }\n\n    function initDataMethods()\n    {\n        var handler = function (event) {\n            var $this = $(this),\n                method = $this.data('method'),\n                message = $this.data('confirm'),\n                form = $this.data('form');\n\n            if (method === undefined && message === undefined && form === undefined) {\n                return true;\n            }\n\n            if (message !== undefined && message !== false && message !== '') {\n                $.proxy(pub.confirm, this)(message, function () {\n                    pub.handleAction($this, event);\n                });\n            } else {\n                pub.handleAction($this, event);\n            }\n            event.stopImmediatePropagation();\n            return false;\n        };\n\n        // handle data-confirm and data-method for clickable and changeable elements\n        $(document).on('click.yii', pub.clickableSelector, handler)\n            .on('change.yii', pub.changeableSelector, handler);\n    }\n\n    function isReloadableAsset(url)\n    {\n        for (var i = 0; i < pub.reloadableScripts.length; i++) {\n            var rule = getAbsoluteUrl(pub.reloadableScripts[i]);\n            var match = new RegExp(\"^\" + escapeRegExp(rule).split('\\\\*').join('.+') + \"$\").test(url);\n            if (match === true) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    // https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex/6969486#6969486\n    function escapeRegExp(str)\n    {\n        return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n    }\n\n    /**\n     * Returns absolute URL based on the given URL\n     * @param {string} url Initial URL\n     * @returns {string}\n     */\n    function getAbsoluteUrl(url)\n    {\n        return url.charAt(0) === '/' ? pub.getBaseCurrentUrl() + url : url;\n    }\n\n    return pub;\n})(window.jQuery);\n\nwindow.jQuery(function () {\n    window.yii.initModule(window.yii);\n});\n"],"names":["window","yii","$","pub","reloadableScripts","clickableSelector","changeableSelector","getCsrfParam","attr","getCsrfToken","setCsrfToken","name","value","refreshCsrfToken","token","val","confirm","message","ok","cancel","handleAction","$e","event","oldMethod","oldAction","newForm","activeFormData","$form","closest","method","data","action","isValidAction","params","areValidParams","isPlainObject","pjax","usePjax","undefined","support","pjaxOptions","each","index","param","hasOwnProperty","console","error","pjaxContainer","length","container","push","replace","scrollTo","pushRedirect","replaceRedirect","skipOuterContainers","timeout","originalEvent","originalTarget","click","location","assign","is","on","e","submit","trigger","getCurrentUrl","target","test","append","type","csrfParam","hide","appendTo","submitObject","when","done","remove","getQueryParams","url","pos","indexOf","pairs","grep","substring","split","i","len","pair","decodeURIComponent","isArray","initModule","module","isActive","isFunction","init","this","loadedScripts","handler","$this","form","proxy","stopImmediatePropagation","ajaxPrefilter","options","originalOptions","xhr","crossDomain","setRequestHeader","document","ajaxComplete","getResponseHeader","getAbsoluteUrl","src","forbiddenRepeatedLoad","cleanupRunning","dataType","isReloadableAsset","abort","xhrList","xhrDone","textStatus","jqXHR","yiiUrl","singleXhr","readyState","XMLHttpRequest","DONE","fail","yiiIndex","allFailed","styleSheets","href","inArray","getBaseCurrentUrl","protocol","host","rule","RegExp","join","charAt","jQuery"],"mappings":"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"}