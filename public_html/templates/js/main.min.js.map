{"version":3,"file":"js/main.min.js","mappings":"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","sources":["webpack://webpack-eddn/./src/script/fetchData.js","webpack://webpack-eddn/./src/script/Pagination.js","webpack://webpack-eddn/./src/script/SortTable.js","webpack://webpack-eddn/./src/script/Table.js","webpack://webpack-eddn/./src/script/commodities.js","webpack://webpack-eddn/./src/script/tradeRoutes.js","webpack://webpack-eddn/./src/script/isValidated.js","webpack://webpack-eddn/./src/script/main.js"],"sourcesContent":["export const fetchData = async (url, loaderCnt = null) => {\r\n    loaderCnt && enableLoader(loaderCnt);\r\n    try {\r\n        const res = await fetch(\r\n            url, {\r\n                method: 'GET',\r\n                headers: {\r\n                    contentType: 'application/json',\r\n                },\r\n            });\r\n        if (res.ok) {\r\n            return await res.json();\r\n        } else {\r\n            console.log('fetch error');\r\n        }\r\n    }\r\n    catch (error) {\r\n        console.log(error.message);\r\n    }\r\n    finally {\r\n        loaderCnt && disableLoader(loaderCnt);\r\n    }\r\n};\r\n\r\nfunction enableLoader(loaderCnt) {\r\n    if (loaderCnt !== '') {\r\n        $(loaderCnt).addClass('opacity-25');\r\n    }\r\n}\r\n\r\nfunction disableLoader(loaderCnt) {\r\n    $(loaderCnt).removeClass('opacity-25');\r\n}","export function Pagination(maxPageBtnQty, fetchData, paginationHTML = null, table = null) {\r\n    this.fetchData = fetchData;\r\n    this.maxPageBtnQty = maxPageBtnQty;\r\n    this.paginationHTML = paginationHTML;\r\n    this.data = null;\r\n    this.table = table;\r\n}\r\n\r\nPagination.prototype.getCurrentDataPage = function() {\r\n    return $('li.active > a').attr('data-page');\r\n};\r\n\r\nPagination.prototype.renderNewPageBtns = function(links, next, last, current, totalCount, limit, maxPageBtnQty) {\r\n    const $pageNumBtns = $('li > .page-link');\r\n    const pageBtnFirstNum = parseInt($pageNumBtns.eq(2).attr('data-page')) + 1;\r\n    const pageBtnLastNum = parseInt($pageNumBtns.eq($pageNumBtns.length - 3).attr('data-page')) + 1;\r\n    const clsBegin = next === 1 ? 'page-link disabled' : 'page-link';\r\n    const clsEnd = next === last ? 'page-link disabled' : 'page-link';\r\n    const pageBtnQty = maxPageBtnQty <= last ? maxPageBtnQty : last;\r\n\r\n    let html =\r\n        `<li class=\"page-item first\"><a class=\"${clsBegin}\" href=\"${links.first}\" data-page=\"0\">first</a></li>`;\r\n    html +=\r\n        `<li class=\"page-item prev-page\">\r\n                <a class=\"${clsBegin}\" href=\"${links.prev}\" data-page=\"${next - 1}\">\r\n                    <span aria-hidden=\"true\">«</span>\r\n                </a>\r\n            </li>`;\r\n\r\n    for (let i = 0; i < pageBtnQty; i++) {\r\n        const href = links.first.substring(0, links.first.length - 1);\r\n        let pageNum;\r\n\r\n        if (next > current) {\r\n            if (next >= last - 1) {\r\n                pageNum = last - (pageBtnQty - 1) + i;\r\n            } else pageNum = pageBtnLastNum - next < 2 ? (next - (pageBtnQty - 3)) + i : pageBtnFirstNum + i;\r\n        } else {\r\n            if (next <= 2) {\r\n                pageNum = 1 + i;\r\n            } else pageNum = next - pageBtnFirstNum < 2 ? (next - 2) + i : pageBtnFirstNum + i;\r\n        }\r\n\r\n        const cls = pageNum === next ? 'page-item active' : 'page-item';\r\n        html +=\r\n            `<li class=\"${cls}\">\r\n                        <a class=\"page-link\" href=\"${href}${pageNum}\" data-page=\"${pageNum - 1}\">${pageNum}</a>\r\n                    </li>`;\r\n    }\r\n    html +=\r\n        `<li class=\"page-item next-page\">\r\n                    <a class=\"${clsEnd}\" href=\"${links.next}\" data-page=\"${next - 1}\">\r\n                        <span aria-hidden=\"true\">»</span>\r\n                    </a>\r\n                </li>`;\r\n    html +=\r\n        `<li class=\"page-item last\">\r\n                    <a class=\"${clsEnd}\" href=\"${links.last}\" data-page=\"${last - 1}\">last</a>\r\n                </li>`;\r\n\r\n    $('.pagination').html(html);\r\n    $('.page-counter').text(`${this.getCurrentDataPage() * limit + 1} \r\n       - ${next * limit < totalCount ? next * limit : totalCount} / ${totalCount}`);\r\n\r\n    this.setEventListeners();\r\n};\r\n\r\nPagination.prototype.handleClick = async function (e) {\r\n    e.preventDefault();\r\n    if ($(e.currentTarget).parent().is('.active')) return;\r\n    const res = await this.fetchData($(e.currentTarget).attr('href'));\r\n    this.data = res;\r\n    this.renderNewPageBtns(\r\n        res.links,\r\n        res.page + 1, // zero based next page received from backend + 1\r\n        res.lastPage,\r\n        this.getCurrentDataPage(), // zero based current page\r\n        res.totalCount,\r\n        res.limit, // qty per page\r\n        this.maxPageBtnQty\r\n    );\r\n};\r\n\r\nPagination.prototype.resetPagination = function(limit, totalCount) {\r\n    $('.pagination').html(this.paginationHTML);\r\n    $('.page-counter').text(`${0 * limit + 1} - ${1 * limit} / ${totalCount}`);\r\n    this.setEventListeners();\r\n};\r\n\r\nPagination.prototype.setEventListeners = function() {\r\n    $('.page-item > .page-link').on('click', (e) => this.handleClick(e));\r\n};\r\n","export function SortTable(cnt, fetchData, pagination = null, table =null) {\r\n    this.cnt = cnt;\r\n    this.pagination = pagination;\r\n    this.fetchData = fetchData;\r\n    this.data = null;\r\n    this.table = table;\r\n}\r\n\r\nSortTable.prototype.handleClick = async function(e) {\r\n    e.preventDefault();\r\n    const data = await this.fetchData($(e.currentTarget).attr('href'));\r\n    // console.log(data);\r\n    this.data = data;\r\n    this.pagination && this.pagination.resetPagination.apply(this.pagination, [data.limit, data.totalCount]);\r\n    $('a.sort').removeClass(['asc', 'desc', 'sorted']);\r\n\r\n    if (Object.values(data.attributeOrders)[0] === 4) {\r\n        $(e.currentTarget).addClass(['sorted', 'asc']);\r\n    } else $(e.currentTarget).addClass(['sorted', 'desc']);\r\n\r\n    $(e.currentTarget).attr('href', data.sortUrl);\r\n};\r\n\r\nSortTable.prototype.setEventListeners = function() {\r\n    $(this.cnt + ' .sort').on('click', (e) => this.handleClick(e));\r\n};\r\n","export function Table(cnt) {\r\n    this.cnt = cnt;\r\n}\r\n\r\nTable.prototype.getRows = function() {\r\n    return $(`#${this.cnt} tbody tr`);\r\n};\r\n\r\nTable.prototype.fillTable = function(data) {\r\n    this.getRows().each(function(rowIndex) {\r\n        if (!data[rowIndex]) {\r\n            $(this).remove();\r\n            return;\r\n        }\r\n\r\n        $(this).find('td').each(function (cellIndex) {\r\n            cellIndex === 0 && $(this).text(data[rowIndex].commodity);\r\n            cellIndex === 1 && $(this).text(data[rowIndex].station);\r\n            cellIndex === 2 && $(this).text(data[rowIndex].type);\r\n            if (cellIndex === 2 && data[rowIndex].surface) {\r\n                $(this).addClass('text-success');\r\n                $(this).removeClass('text-primary');\r\n            } else if (cellIndex === 2) {\r\n                $(this).addClass('text-primary');\r\n                $(this).removeClass('text-success');\r\n            }\r\n            cellIndex === 3 && $(this).text(data[rowIndex].pad);\r\n            cellIndex === 4 && $(this).text(data[rowIndex].system);\r\n            cellIndex === 5 && $(this).text(data[rowIndex].distance_ly);\r\n            cellIndex === 6 && $(this).text(data[rowIndex].distance_ls);\r\n            cellIndex === 7 && $(this).text(data[rowIndex].demand);\r\n            cellIndex === 8 && $(this).text(data[rowIndex].sell_price || data[rowIndex].buy_price);\r\n            cellIndex === 9 && $(this).text(data[rowIndex].time_diff);\r\n        });\r\n    });\r\n};","import {Pagination} from './Pagination.js';\r\nimport {SortTable} from './SortTable.js';\r\nimport {Table} from './Table.js';\r\n\r\nexport const commoditiesForm = (loader, removeLoader, fetchData) => {\r\n    const $form = $('#c-form');\r\n    const $table = $('.c-table');\r\n    const $pagination = $('.pagination');\r\n    removeLoader($table);\r\n\r\n    const handleSubmit = (e) => {\r\n        if (!$form[0].checkValidity()) {\r\n            e.preventDefault();\r\n        } else loader($form, $table);\r\n    };\r\n\r\n    $form.on('submit', handleSubmit);\r\n\r\n    const table = new Table('c-table');\r\n\r\n    const proxyHandler= {\r\n        set(target, prop, val) {\r\n            if (prop === \"data\") {\r\n                table.fillTable(val.data);\r\n                console.log(val)\r\n                return true;\r\n            }\r\n        },\r\n    };\r\n\r\n    const pagination = $pagination.length ?\r\n        new Proxy(new Pagination(7, fetchData, $pagination.html(), table), proxyHandler) : null;\r\n    const sortTable = $pagination.length ?\r\n        new Proxy(new SortTable('.c-table', fetchData, pagination, table), proxyHandler) : null;\r\n\r\n    pagination.setEventListeners();\r\n    sortTable.setEventListeners();\r\n};\r\n","export const tradeRouteForm = (isValidated, loader, removeLoader, fetchData) => {\r\n    const form = document.querySelector('#tr-form');\r\n    const handleSubmit = (e) => {\r\n        const cargoSpaceLabel = document.querySelector('label[for=\\'cargo\\']');\r\n        const cargoSpace = document.querySelector('#cargo');\r\n        const profitLabel = document.querySelector('label[for=\\'profit\\']');\r\n        const profit = document.querySelector('#profit');\r\n\r\n        if (!form.checkValidity()) {\r\n            e.preventDefault();\r\n        }\r\n\r\n        isValidated(cargoSpace, cargoSpaceLabel);\r\n        isValidated(profit, profitLabel);\r\n    };\r\n\r\n    form.addEventListener('submit', (e) => handleSubmit(e));\r\n\r\n    // const observer = new MutationObserver(handleSelectedSysChange);\r\n    // observer.observe(selectedSys, {childList: true});\r\n};","export const isValidated = (elem, elemLabel) => {\r\n    if (!elem.checkValidity()) {\r\n        setInvalid(elem, elemLabel);\r\n    } else {\r\n        setValid(elem, elemLabel);\r\n    }\r\n};\r\n\r\nconst setInvalid = (elem, elemLabel) => {\r\n    elemLabel.classList.add('text-danger', 'is-invalid');\r\n    elem.classList.remove('border-dark');\r\n    elem.classList.add('is-invalid', 'border-2', 'border-danger');\r\n};\r\n\r\nconst setValid = (elem, elemLabel) => {\r\n    elemLabel.classList.remove('text-danger', 'is-invalid');\r\n    elem.classList.add('border-dark');\r\n    elem.classList.remove('is-invalid', 'border-2', 'border-danger');\r\n};\r\n\r\n","import '../styles/scss/style.scss';\r\n// import '../styles/bootstrapSCSS/bootstrap.scss';\r\nimport {fetchData} from './fetchData.js';\r\nimport {commoditiesForm} from './commodities.js';\r\nimport {tradeRouteForm} from './tradeRoutes.js';\r\nimport {isValidated} from './isValidated.js';\r\n\r\nconst initHeader = () => {\r\n    $('.menu__link').each(function() {\r\n        if ($(this).attr('href') === window.location.pathname ||\r\n            window.location.pathname.includes($(this).attr('href'))) {\r\n            $(this).addClass('active');\r\n        } else $(this).removeClass('active');\r\n    });\r\n};\r\n\r\nconst loader = ($insertElem, $hideElem) => {\r\n    $insertElem.after(\"<div class='c-loading my-0 mx-auto text-light bg-light-orange rounded-2 p-2 fw-bold'>\" +\r\n        \"Loading . . .</div>\");\r\n\r\n    if ($hideElem.length) {\r\n        $hideElem.addClass('d-none');\r\n        $('.c-pagination-cnt').addClass('d-none');\r\n        $('.c-result-legend').addClass('d-none');\r\n    }\r\n};\r\n\r\nconst removeLoader = ($elem) => {\r\n    if ($elem.length) {\r\n        const $loadingPlaceholder = $('.c-loading');\r\n        $loadingPlaceholder.length && $loadingPlaceholder.remove();\r\n    }\r\n};\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    initHeader();\r\n    if ($('#c-form').length)  commoditiesForm(loader, removeLoader, fetchData);\r\n    if ($('#tr-form').length)  tradeRouteForm(isValidated, loader, removeLoader, fetchData);\r\n});\r\n\r\n\r\n"],"names":["fetchData","async","url","loaderCnt","arguments","length","undefined","$","addClass","enableLoader","res","fetch","method","headers","contentType","ok","json","console","log","error","message","removeClass","disableLoader","Pagination","maxPageBtnQty","paginationHTML","table","this","data","SortTable","cnt","pagination","Table","prototype","getCurrentDataPage","attr","renderNewPageBtns","links","next","last","current","totalCount","limit","$pageNumBtns","pageBtnFirstNum","parseInt","eq","pageBtnLastNum","clsBegin","clsEnd","pageBtnQty","html","concat","first","prev","i","href","substring","pageNum","text","setEventListeners","handleClick","e","preventDefault","currentTarget","parent","is","page","lastPage","resetPagination","on","apply","Object","values","attributeOrders","sortUrl","getRows","fillTable","each","rowIndex","find","cellIndex","commodity","station","type","surface","pad","system","distance_ly","distance_ls","demand","sell_price","buy_price","time_diff","remove","tradeRouteForm","isValidated","loader","removeLoader","form","document","querySelector","addEventListener","cargoSpaceLabel","cargoSpace","profitLabel","profit","checkValidity","handleSubmit","elem","elemLabel","setValid","setInvalid","classList","add","initHeader","window","location","pathname","includes","$insertElem","$hideElem","after","$elem","$loadingPlaceholder","commoditiesForm","$form","$table","$pagination","proxyHandler","set","target","prop","val","Proxy","sortTable"],"sourceRoot":""}