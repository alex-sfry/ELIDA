{"version":3,"file":"js/main.min.js","mappings":"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","sources":["webpack://webpack-eddn/./src/script/handlePagination.js","webpack://webpack-eddn/./src/script/commodities.js","webpack://webpack-eddn/./src/script/tradeRoutes.js","webpack://webpack-eddn/./src/script/isValidated.js","webpack://webpack-eddn/./src/script/main.js"],"sourcesContent":["export const handlePagination = (first, prev, next, last, pageBtnQty) => {\r\n    const pagination = document.querySelectorAll('.pagination');\r\n    const getCurrentDataPage = () => document.querySelector('li.active > a').getAttribute('data-page');\r\n\r\n    const getNewPagaData = async (url) => {\r\n        try {\r\n            const res = await fetch(\r\n                url, {\r\n                    method: 'GET',\r\n                    headers: {\r\n                        contentType: 'application/json',\r\n                    },\r\n                });\r\n            if (res.ok) {\r\n                return await res.json();\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.log(error.message);\r\n        }\r\n    };\r\n\r\n    const renderNewPageBtns = (links, next, last, current, totalCount, limit, setEventListeners) => {\r\n        const pageCounter = document.querySelectorAll('.page-counter');\r\n        const pageNumBtns = Array.from(document.querySelectorAll(`li > .page-link`));\r\n        const pageBtnFirstNum = parseInt(pageNumBtns[2].getAttribute('data-page')) + 1;\r\n        const pageBtnLastNum = parseInt(pageNumBtns[pageNumBtns.length - 3 ].getAttribute('data-page')) + 1;\r\n        const clsBegin = next === 1 ? 'page-link disabled' : 'page-link';\r\n        const clsEnd = next === last ? 'page-link disabled' : 'page-link';\r\n\r\n        let html =\r\n            `<li class=\"page-item first\"><a class=\"${clsBegin}\" href=\"${links.first}\" data-page=\"0\">first</a></li>`;\r\n        html +=\r\n            `<li class=\"page-item prev-page\">\r\n                    <a class=\"${clsBegin}\" href=\"${links.prev}\" data-page=\"${next - 1}\">\r\n                        <span aria-hidden=\"true\">«</span>\r\n                    </a>\r\n                </li>`;\r\n\r\n        for (let i = 0 ; i < pageBtnQty; i++) {\r\n            const href = links.first.substring(0, links.first.length - 1);\r\n            let pageNum;\r\n\r\n            if (next > current) {\r\n                if (next >= last - 1) {\r\n                    pageNum = last - (pageBtnQty - 1) + i;\r\n                } else pageNum = pageBtnLastNum - next < 2 ? (next - (pageBtnQty - 3)) + i : pageBtnFirstNum + i;\r\n            } else {\r\n                if (next <= 2) {\r\n                    pageNum = 1 + i;\r\n                } else pageNum = next - pageBtnFirstNum < 2 ? (next - 2) + i : pageBtnFirstNum + i;\r\n            }\r\n\r\n            const cls = pageNum === next ? 'page-item active' : 'page-item';\r\n            html +=\r\n                `<li class=\"${cls}\">\r\n                        <a class=\"page-link\" href=\"${href}${pageNum}\" data-page=\"${pageNum - 1}\">${pageNum}</a>\r\n                    </li>`;\r\n        }\r\n        html +=\r\n            `<li class=\"page-item next-page\">\r\n                    <a class=\"${clsEnd}\" href=\"${links.next}\" data-page=\"${next - 1}\">\r\n                        <span aria-hidden=\"true\">»</span>\r\n                    </a>\r\n                </li>`;\r\n        html +=\r\n            `<li class=\"page-item last\">\r\n                    <a class=\"${clsEnd}\" href=\"${links.last}\" data-page=\"${last - 1}\">last</a>\r\n                </li>`;\r\n\r\n        pagination.forEach(item => item.innerHTML = html);\r\n        pageCounter.forEach(item => item.textContent =\r\n            `${getCurrentDataPage() * limit + 1} - ${next * limit < totalCount ? next * limit : \r\n                totalCount} / ${totalCount}`);\r\n        setEventListeners();\r\n    };\r\n\r\n    const handleClick = async (e) => {\r\n        e.preventDefault();\r\n        if (e.currentTarget.parentElement.classList.contains('active')) return;\r\n        const res = await getNewPagaData(e.currentTarget.getAttribute('href'));\r\n        console.log(res);\r\n        renderNewPageBtns(\r\n            res.links,\r\n            res.page + 1, // zero based next page received from backend + 1\r\n            res.lastPage,\r\n            getCurrentDataPage(), // zero based current page\r\n            res.totalCount,\r\n            res.limit, // qty per page\r\n            setEventListeners\r\n        );\r\n    };\r\n\r\n    const setEventListeners = () => {\r\n        document.querySelectorAll(`.page-item > .page-link`)\r\n                .forEach(item => item.addEventListener('click', handleClick));\r\n    };\r\n    setEventListeners();\r\n};\r\n","import {handlePagination} from './handlePagination.js';\r\n\r\nexport const commoditiesForm = (loader, removeLoader) => {\r\n    const form = document.querySelector('#c-form');\r\n    const table = document.querySelector('.c-table');\r\n    const pagination = document.querySelector('.pagination');\r\n    removeLoader(table);\r\n\r\n    const handleSubmit = (e) => {\r\n        const form = document.querySelector('#c-form');\r\n\r\n        if (!form.checkValidity()) {\r\n            e.preventDefault();\r\n        } else loader(form, table);\r\n    };\r\n\r\n    form.addEventListener('submit', (e) => handleSubmit(e));\r\n\r\n    if (pagination) handlePagination('first', 'prev-page', 'next-page', 'last', 7);\r\n};\r\n","export const tradeRouteForm = (isValidated, loader, removeLoader) => {\r\n    const form = document.querySelector('#tr-form');\r\n    const handleSubmit = (e) => {\r\n        const cargoSpaceLabel = document.querySelector('label[for=\\'cargo\\']');\r\n        const cargoSpace = document.querySelector('#cargo');\r\n        const profitLabel = document.querySelector('label[for=\\'profit\\']');\r\n        const profit = document.querySelector('#profit');\r\n\r\n        if (!form.checkValidity()) {\r\n            e.preventDefault();\r\n        }\r\n\r\n        isValidated(cargoSpace, cargoSpaceLabel);\r\n        isValidated(profit, profitLabel);\r\n    };\r\n\r\n    form.addEventListener('submit', (e) => handleSubmit(e));\r\n\r\n    // const observer = new MutationObserver(handleSelectedSysChange);\r\n    // observer.observe(selectedSys, {childList: true});\r\n};","export const isValidated = (elem, elemLabel) => {\r\n    if (!elem.checkValidity()) {\r\n        setInvalid(elem, elemLabel);\r\n    } else {\r\n        setValid(elem, elemLabel);\r\n    }\r\n};\r\n\r\nconst setInvalid = (elem, elemLabel) => {\r\n    elemLabel.classList.add('text-danger', 'is-invalid');\r\n    elem.classList.remove('border-dark');\r\n    elem.classList.add('is-invalid', 'border-2', 'border-danger');\r\n};\r\n\r\nconst setValid = (elem, elemLabel) => {\r\n    elemLabel.classList.remove('text-danger', 'is-invalid');\r\n    elem.classList.add('border-dark');\r\n    elem.classList.remove('is-invalid', 'border-2', 'border-danger');\r\n};\r\n\r\n","import '../styles/scss/style.scss';\r\n// import '../styles/bootstrapSCSS/bootstrap.scss';\r\nimport {commoditiesForm} from './commodities.js';\r\nimport {tradeRouteForm} from './tradeRoutes.js';\r\nimport {isValidated} from './isValidated.js';\r\n\r\nconst initHeader = () => {\r\n    document.querySelectorAll('.menu__link').forEach(item => {\r\n        if (item.getAttribute('href') === window.location.pathname ||\r\n            window.location.pathname.includes(item.getAttribute('href'))) {\r\n            item.classList.add('active');\r\n        } else item.classList.remove('active');\r\n    });\r\n};\r\n\r\nconst loader = (insertElem, hideElem) => {\r\n    insertElem.insertAdjacentHTML(\r\n        'afterend',\r\n        \"<div class='c-loading my-0 mx-auto text-light bg-light-orange rounded-2 p-2 fw-bold'>Loading . . .</div>\"\r\n    );\r\n\r\n    if (hideElem) {\r\n        hideElem.classList.add('d-none');\r\n        document.querySelectorAll('.Zebra_Pagination').forEach( item => {\r\n            item.classList.add('d-none');\r\n        });\r\n    }\r\n};\r\n\r\nconst removeLoader = (elem) => {\r\n    if (elem) {\r\n        const loadingPlaceholder = document.querySelector('.c-loading');\r\n        loadingPlaceholder && loadingPlaceholder.remove();\r\n    }\r\n};\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    initHeader();\r\n    if (document.querySelector('#c-form'))  commoditiesForm(loader, removeLoader);\r\n    if (document.querySelector('#tr-form'))  tradeRouteForm(isValidated, loader, removeLoader);\r\n});\r\n\r\n\r\n"],"names":["handlePagination","first","prev","next","last","pageBtnQty","pagination","document","querySelectorAll","getCurrentDataPage","querySelector","getAttribute","handleClick","async","e","preventDefault","currentTarget","parentElement","classList","contains","res","fetch","url","method","headers","contentType","ok","json","error","console","log","message","getNewPagaData","renderNewPageBtns","links","current","totalCount","limit","setEventListeners","pageCounter","pageNumBtns","Array","from","pageBtnFirstNum","parseInt","pageBtnLastNum","length","clsBegin","clsEnd","html","concat","i","href","substring","pageNum","forEach","item","innerHTML","textContent","page","lastPage","addEventListener","commoditiesForm","loader","removeLoader","form","table","checkValidity","handleSubmit","tradeRouteForm","isValidated","cargoSpaceLabel","cargoSpace","profitLabel","profit","elem","elemLabel","setValid","setInvalid","add","remove","insertElem","hideElem","insertAdjacentHTML","loadingPlaceholder","window","location","pathname","includes"],"sourceRoot":""}