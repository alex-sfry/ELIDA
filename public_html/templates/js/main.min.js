(()=>{"use strict";const t=t=>{"[0-9]+"===$(t).attr("pattern")&&("Please match the requested format."===t.validationMessage?$(`#${$(t).attr("id")} ~ .invalid-feedback`).text("Only numeric values are allowed"):$(`#${$(t).attr("id")} ~ .invalid-feedback`).text("Field must not be empty"))},e=(t,e,o)=>{const i=$("#tr-form"),a=$(".tr-route");o(a);$(".btn-copy").on("click",(function(){navigator.clipboard.writeText($(this).siblings(".table-link-tr").text()),$(this).text("copied").addClass("btn-copy-active"),$(".btn-copy:contains('copied')").not(this).text("copy").removeClass("btn-copy-active")})),i.on("submit",(o=>(o=>{const s=$("#cargo").get(0),n=$("#profit").get(0);i.get(0).checkValidity()?e(i,a):($("#tr-form").addClass("was-validated"),o.preventDefault()),t(s),t(n)})(o)))},o={searchField:"system",valueField:"system",labelField:"system",plugins:["dropdown_input"],sortField:[{field:"$order"},{field:"$score"}],loadThrottle:500,hideSelected:!0,shouldLoad:t=>!(t.length<2),load:async function(t,e){console.log(t),this.clearOptions();try{const o=await fetch(`/system/get/${t}`);o.ok?e(await o.json()):console.log("fetch error")}catch(t){console.log(t.message),e()}}};(()=>{const t=document.querySelector(".cookies-consent-wrapper");t.querySelector("button").addEventListener("click",(()=>{document.cookie="CookieBy=ELIDA; max-age=2592000",document.cookie?t.classList.add("hide"):alert("Cookie can't be set! Please unblock this site from the cookie setting of your browser.")}));-1===document.cookie.indexOf("CookieBy=ELIDA")?t.classList.remove("hide"):t.classList.add("hide")})();const i=()=>{$(".menu__link").each((function(){$(this).attr("href")===window.location.pathname?($(this).addClass("active"),$(this).closest(".menu__item").children(".menu__link").addClass("active")):($(this).removeClass("active"),$(this).closest(".menu__link").removeClass("active"))}))},a=()=>{$(".footer__link").each((function(){$(this).attr("href")===window.location.pathname||window.location.pathname.includes($(this).attr("href"))?$(this).addClass("active"):$(this).removeClass("active")}))},s=(t,e)=>{t.after("<div class='c-loading my-0 mx-auto text-light bg-info rounded-2 px-3 py-1 fw-bold'>Loading . . .</div>"),e.length&&(e.addClass("d-none"),$(".c-pagination-cnt").addClass("d-none"),$(".c-result-legend").addClass("d-none"))},n=t=>{if(t.length){const t=$(".c-loading");t.length&&t.remove()}};document.addEventListener("DOMContentLoaded",(()=>{if(i(),a(),$("#c-form").length&&((t,e)=>{const o=$("#c-form"),i=$(".c-table");e(i),o.on("submit",(e=>{o.get(0).checkValidity()?t(o,i):(o.addClass("was-validated"),e.preventDefault())}))})(s,n),$("#mod-form").length&&((t,e)=>{const o=$("#mod-form"),i=$(".mod-table");e(i),o.on("submit",(e=>{o.get(0).checkValidity()?t(o,i):(o.addClass("was-validated"),e.preventDefault())}))})(s,n),$("#ships-form").length&&((t,e)=>{const o=$("#ships-form"),i=$(".ships-table");e(i),o.on("submit",(e=>{o.get(0).checkValidity()?t(o,i):(o.addClass("was-validated"),e.preventDefault())}))})(s,n),$("#tr-form").length&&e(t,s,n),$("#mt-form").length&&(()=>{const t=$("#mt-form");t.on("submit",(e=>{t.get(0).checkValidity()||(t.addClass("was-validated"),e.preventDefault())}))})(),$("#rings-form").length&&((t,e)=>{new TomSelect("#refSystem",o);const i=$("#rings-form"),a=$(".rings-table");e(a),i.on("submit",(e=>{i.get(0).checkValidity()?t(i,a):(e.preventDefault(),i.addClass("was-validated"))}))})(s,n),$("#accordionForm .accordion-button").on("click",(function(){"Close form"===$(this).text().trim()?$(this).text("Open form"):"Open form"===$(this).text().trim()&&$(this).text("Close form")})),$(!0)){const t=$(".filters .btn");t.on("click",(function(){t.prev().trigger("change.yiiGridView")})),$(".filters input").on("change",(function(){return!1}))}}))})();
//# sourceMappingURL=main.min.js.map