(()=>{"use strict";const e=async e=>{try{const t=await fetch(e,{method:"GET",headers:{contentType:"application/json"}});if(t.ok)return await t.json()}catch(e){console.log(e.message)}},t=(t,a,c,n,r)=>{const o=document.querySelectorAll(".pagination"),l=()=>document.querySelector("li.active > a").getAttribute("data-page"),s=async t=>{if(t.preventDefault(),t.currentTarget.parentElement.classList.contains("active"))return;const a=await e(t.currentTarget.getAttribute("href"));console.log(a),((e,t,a,c,n,s,i)=>{const d=document.querySelectorAll(".page-counter"),u=Array.from(document.querySelectorAll("li > .page-link")),g=parseInt(u[2].getAttribute("data-page"))+1,m=parseInt(u[u.length-3].getAttribute("data-page"))+1,p=1===t?"page-link disabled":"page-link",f=t===a?"page-link disabled":"page-link";let h='<li class="page-item first"><a class="'.concat(p,'" href="').concat(e.first,'" data-page="0">first</a></li>');h+='<li class="page-item prev-page">\n                    <a class="'.concat(p,'" href="').concat(e.prev,'" data-page="').concat(t-1,'">\n                        <span aria-hidden="true">«</span>\n                    </a>\n                </li>');for(let n=0;n<r;n++){const o=e.first.substring(0,e.first.length-1);let l;l=t>c?t>=a-1?a-(r-1)+n:m-t<2?t-(r-3)+n:g+n:t<=2?1+n:t-g<2?t-2+n:g+n,h+='<li class="'.concat(l===t?"page-item active":"page-item",'">\n                        <a class="page-link" href="').concat(o).concat(l,'" data-page="').concat(l-1,'">').concat(l,"</a>\n                    </li>")}h+='<li class="page-item next-page">\n                    <a class="'.concat(f,'" href="').concat(e.next,'" data-page="').concat(t-1,'">\n                        <span aria-hidden="true">»</span>\n                    </a>\n                </li>'),h+='<li class="page-item last">\n                    <a class="'.concat(f,'" href="').concat(e.last,'" data-page="').concat(a-1,'">last</a>\n                </li>'),o.forEach((e=>e.innerHTML=h)),d.forEach((e=>e.textContent="".concat(l()*s+1," - ").concat(t*s<n?t*s:n," / ").concat(n))),i()})(a.links,a.page+1,a.lastPage,l(),a.totalCount,a.limit,i)},i=()=>{document.querySelectorAll(".page-item > .page-link").forEach((e=>e.addEventListener("click",s)))};i()},a=async function(t,a){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=document.querySelectorAll("a.sort"),r=async t=>{t.preventDefault();const r=t.currentTarget,o=await e("".concat(r.getAttribute("href")));var l,s;console.log(o),c&&(l=o.limit,s=o.totalCount,document.querySelectorAll(".pagination").forEach((e=>e.innerHTML=c)),document.querySelectorAll(".page-counter").forEach((e=>{e.textContent="".concat(0*l+1," - ").concat(1*l," / ").concat(s)})),a("first","prev-page","next-page","last",7)),n.forEach((e=>e.classList.remove("asc","desc","sorted"))),4===Object.values(o.attributeOrders)[0]?r.classList.add("sorted","asc"):r.classList.add("sorted","desc"),r.setAttribute("href",o.sortUrl)};document.querySelectorAll("".concat(t," .sort")).forEach((e=>e.addEventListener("click",r)))},c=(e,c)=>{const n=document.querySelector("#c-form"),r=document.querySelector(".c-table"),o=document.querySelector(".pagination");c(r);n.addEventListener("submit",(t=>(t=>{const a=document.querySelector("#c-form");a.checkValidity()?e(a,r):t.preventDefault()})(t))),o&&t(0,0,0,0,7),r&&a(".c-table",t,o.innerHTML)},n=(e,t,a)=>{const c=document.querySelector("#tr-form");c.addEventListener("submit",(t=>(t=>{const a=document.querySelector("label[for='cargo']"),n=document.querySelector("#cargo"),r=document.querySelector("label[for='profit']"),o=document.querySelector("#profit");c.checkValidity()||t.preventDefault(),e(n,a),e(o,r)})(t)))},r=(e,t)=>{e.checkValidity()?l(e,t):o(e,t)},o=(e,t)=>{t.classList.add("text-danger","is-invalid"),e.classList.remove("border-dark"),e.classList.add("is-invalid","border-2","border-danger")},l=(e,t)=>{t.classList.remove("text-danger","is-invalid"),e.classList.add("border-dark"),e.classList.remove("is-invalid","border-2","border-danger")},s=(e,t)=>{e.insertAdjacentHTML("afterend","<div class='c-loading my-0 mx-auto text-light bg-light-orange rounded-2 p-2 fw-bold'>Loading . . .</div>"),t&&(t.classList.add("d-none"),document.querySelectorAll(".Zebra_Pagination").forEach((e=>{e.classList.add("d-none")})))},i=e=>{if(e){const e=document.querySelector(".c-loading");e&&e.remove()}};document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".menu__link").forEach((e=>{e.getAttribute("href")===window.location.pathname||window.location.pathname.includes(e.getAttribute("href"))?e.classList.add("active"):e.classList.remove("active")})),document.querySelector("#c-form")&&c(s,i),document.querySelector("#tr-form")&&n(r)}))})();
//# sourceMappingURL=main.min.js.map