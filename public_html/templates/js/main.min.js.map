{"version":3,"file":"js/main.min.js","mappings":"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","sources":["webpack://webpack-eddn/./src/script/fetchData.js","webpack://webpack-eddn/./src/script/isValidated.js","webpack://webpack-eddn/./src/script/Pagination.js","webpack://webpack-eddn/./src/script/SortTable.js","webpack://webpack-eddn/./src/script/Table.js","webpack://webpack-eddn/./src/script/commodities.js","webpack://webpack-eddn/./src/script/tradeRoutes.js","webpack://webpack-eddn/./src/script/cookiesConsent.js","webpack://webpack-eddn/./src/script/main.js","webpack://webpack-eddn/./src/script/shipModules.js","webpack://webpack-eddn/./src/script/ships.js","webpack://webpack-eddn/./src/script/matTraders.js"],"sourcesContent":["export const fetchData = async (url, method = 'GET', body= null, loaderCnt = null) => {\r\n    loaderCnt && enableLoader(loaderCnt);\r\n    try {\r\n        const res = await fetch(\r\n            url, {\r\n                method: method,\r\n                mode: 'cors', // this cannot be 'no-cors'\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: body\r\n            });\r\n        if (res.ok) {\r\n            return await res.json();\r\n        } else {\r\n            console.log('fetch error');\r\n        }\r\n    }\r\n    catch (error) {\r\n        console.log(error.message);\r\n    }\r\n    finally {\r\n        loaderCnt && disableLoader(loaderCnt);\r\n    }\r\n};\r\n\r\nfunction enableLoader(loaderCnt) {\r\n    if (loaderCnt !== '') {\r\n        $(loaderCnt).addClass('opacity-25');\r\n    }\r\n}\r\n\r\nfunction disableLoader(loaderCnt) {\r\n    $(loaderCnt).removeClass('opacity-25');\r\n}","export const isValidated = (elem, elemLabel) => {\r\n    if (!elem.checkValidity()) {\r\n        setInvalid(elem, elemLabel);\r\n    } else {\r\n        setValid(elem, elemLabel);\r\n    }\r\n};\r\n\r\nconst setInvalid = (elem, elemLabel) => {\r\n    if ($(elem).attr('pattern') === \"[0-9]+\") {\r\n        if (elem.validationMessage === 'Please match the requested format.') {\r\n            $(`#${$(elem).attr('id')} ~ .invalid-feedback`).text('Only numeric values are allowed');\r\n        } else {\r\n            $(`#${$(elem).attr('id')} ~ .invalid-feedback`).text('Field must not be empty');\r\n        }\r\n    }\r\n    \r\n    $(elemLabel).addClass('text-danger is-invalid');\r\n    $(elem).removeClass('border-dark');\r\n    $(elem).addClass('is-invalid border-2 border-danger');\r\n};\r\n\r\nconst setValid = (elem, elemLabel) => {\r\n    $(elemLabel).removeClass('text-danger is-invalid');\r\n    $(elem).addClass('border-dark');\r\n    $(elem).removeClass('is-invalid border-2 border-danger');\r\n};\r\n\r\n","export function Pagination(maxPageBtnQty, fetchData, paginationHTML = null, table = null) {\r\n    this.fetchData = fetchData;\r\n    this.maxPageBtnQty = maxPageBtnQty;\r\n    this.paginationHTML = paginationHTML;\r\n    this.data = null;\r\n    this.table = table;\r\n}\r\n\r\nPagination.prototype.getCurrentDataPage = function() {\r\n    return $('li.active > a').attr('data-page');\r\n};\r\n\r\nPagination.prototype.renderNewPageBtns = function(links, next, last, current, totalCount, limit, maxPageBtnQty) {\r\n    const $pageNumBtns = $('li > .page-link');\r\n    const pageBtnFirstNum = parseInt($pageNumBtns.eq(2).attr('data-page')) + 1;\r\n    const pageBtnLastNum = parseInt($pageNumBtns.eq($pageNumBtns.length - 3).attr('data-page')) + 1;\r\n    const clsBegin = next === 1 ? 'page-link disabled' : 'page-link';\r\n    const clsEnd = next === last ? 'page-link disabled' : 'page-link';\r\n    const pageBtnQty = maxPageBtnQty <= last ? maxPageBtnQty : last;\r\n\r\n    let html =\r\n        `<li class=\"page-item first\"><a class=\"${clsBegin}\" href=\"${links.first}\" data-page=\"0\">first</a></li>`;\r\n    html +=\r\n        `<li class=\"page-item prev-page\">\r\n                <a class=\"${clsBegin}\" href=\"${links.prev}\" data-page=\"${next - 1}\">\r\n                    <span aria-hidden=\"true\">«</span>\r\n                </a>\r\n            </li>`;\r\n\r\n    for (let i = 0; i < pageBtnQty; i++) {\r\n        const href = links.first.substring(0, links.first.length - 1);\r\n        let pageNum;\r\n\r\n        if (next > current) {\r\n            if (next >= last - 1) {\r\n                pageNum = last - (pageBtnQty - 1) + i;\r\n            } else pageNum = pageBtnLastNum - next < 2 ? (next - (pageBtnQty - 3)) + i : pageBtnFirstNum + i;\r\n        } else {\r\n            if (next <= 2) {\r\n                pageNum = 1 + i;\r\n            } else pageNum = next - pageBtnFirstNum < 2 ? (next - 2) + i : pageBtnFirstNum + i;\r\n        }\r\n\r\n        const cls = pageNum === next ? 'page-item active' : 'page-item';\r\n        html +=\r\n            `<li class=\"${cls}\">\r\n                        <a class=\"page-link\" href=\"${href}${pageNum}\" data-page=\"${pageNum - 1}\">${pageNum}</a>\r\n                    </li>`;\r\n    }\r\n    html +=\r\n        `<li class=\"page-item next-page\">\r\n                    <a class=\"${clsEnd}\" href=\"${links.next}\" data-page=\"${next - 1}\">\r\n                        <span aria-hidden=\"true\">»</span>\r\n                    </a>\r\n                </li>`;\r\n    html +=\r\n        `<li class=\"page-item last\">\r\n                    <a class=\"${clsEnd}\" href=\"${links.last}\" data-page=\"${last - 1}\">last</a>\r\n                </li>`;\r\n\r\n    $('.pagination').html(html);\r\n    $('.page-counter').text(`${this.getCurrentDataPage() * limit + 1} \r\n       - ${next * limit < totalCount ? next * limit : totalCount} / ${totalCount}`);\r\n\r\n    this.setEventListeners();\r\n};\r\n\r\nPagination.prototype.handleClick = async function (e) {\r\n    e.preventDefault();\r\n    if ($(e.currentTarget).parent().is('.active')) return;\r\n    const data = await this.fetchData($(e.currentTarget).attr('href'));\r\n    this.data = data;\r\n    console.log('pagination', data);\r\n\r\n    this.renderNewPageBtns(\r\n        data.links,\r\n        data.page + 1, // zero based next page received from backend + 1\r\n        data.lastPage,\r\n        this.getCurrentDataPage(), // zero based current page\r\n        data.totalCount,\r\n        data.limit, // qty per page\r\n        this.maxPageBtnQty\r\n    );\r\n};\r\n\r\nPagination.prototype.resetPagination = function(limit, totalCount, links, lastPage) {\r\n    $('.page-counter').text(`${0 * limit + 1} - ${1 * limit} / ${totalCount}`);\r\n\r\n    this.renderNewPageBtns(\r\n        links,\r\n        1, // zero based next page received from backend + 1\r\n        lastPage,\r\n        0, // zero based current page\r\n        totalCount,\r\n        limit, // qty per page\r\n        this.maxPageBtnQty\r\n    );\r\n    this.setEventListeners();\r\n};\r\n\r\nPagination.prototype.setEventListeners = function() {\r\n    $('.page-item > .page-link').on('click', (e) => this.handleClick(e));\r\n};\r\n","export function SortTable(cnt, fetchData, table =null, pagination = null) {\r\n    this.cnt = cnt;\r\n    this.pagination = pagination;\r\n    this.fetchData = fetchData;\r\n    this.data = null;\r\n    this.table = table;\r\n}\r\n\r\nSortTable.prototype.handleClick = async function(e) {\r\n    e.preventDefault();\r\n    const data = await this.fetchData($(e.currentTarget).attr('href'));\r\n    this.data = data;\r\n    this.pagination &&\r\n    this.pagination.resetPagination.apply(\r\n        this.pagination,\r\n        [data.limit,data.totalCount,data.links,data.lastPage]\r\n        );\r\n    $('a.sort').removeClass(['asc', 'desc', 'sorted']);\r\n\r\n    if (Object.values(data.attributeOrders)[0] === 4) {\r\n        $(e.currentTarget).addClass(['sorted', 'asc']);\r\n    } else $(e.currentTarget).addClass(['sorted', 'desc']);\r\n\r\n    $(e.currentTarget).attr('href', data.sortUrl);\r\n};\r\n\r\nSortTable.prototype.setEventListeners = function() {\r\n    $(this.cnt + ' .sort').on('click', (e) => this.handleClick(e));\r\n};\r\n","export function Table(cnt, columns) {\r\n    this.cnt = cnt;\r\n    this.columns = columns;\r\n}\r\n\r\nTable.prototype.getRows = function () {\r\n    return $(`#${this.cnt} tbody tr`);\r\n};\r\n\r\nTable.prototype.fillTable = function (data) {\r\n    const actualColumns = [];\r\n\r\n    this.columns.forEach(item => {\r\n        if (item in data[0]) actualColumns.push(item);\r\n    });\r\n\r\n    this.getRows().each(function (rowIndex) {\r\n        if (!data[rowIndex]) {\r\n            $(this).hide();\r\n            return;\r\n        }\r\n\r\n        if ($(this).is(\":hidden\")) $(this).show();\r\n\r\n        $(this).find('td').each(function (cellIndex) {\r\n            const newRowData = data[rowIndex][actualColumns[cellIndex]];\r\n\r\n            if (typeof(newRowData) === 'object') {\r\n                if ('url' in newRowData) {\r\n                    $(this).html(\r\n                        `<a href=\"${newRowData['url']}\" \r\n                            class='table-link text-decoration-underline link-underline-primary'>\r\n                            ${newRowData['text']}</a>`\r\n                    );\r\n                }\r\n            } else $(this).text(newRowData);\r\n        });\r\n    });\r\n};","import { Pagination } from './Pagination.js';\r\nimport { SortTable } from './SortTable.js';\r\nimport { Table } from './Table.js';\r\n\r\nexport const commoditiesForm = (loader, removeLoader, fetchData) => {\r\n    const $form = $('#c-form');\r\n    const $table = $('.c-table');\r\n    const $pagination = $('.pagination');\r\n    removeLoader($table);\r\n\r\n    const handleSubmit = (e) => {\r\n        if (!$form.get(0).checkValidity()) {\r\n            e.preventDefault();\r\n        } else loader($form, $table);\r\n    };\r\n\r\n    $form.on('submit', handleSubmit);\r\n    const table = new Table(\r\n        'c-table',\r\n        [\r\n            'commodity',\r\n            'station',\r\n            'type',\r\n            'pad',\r\n            'system',\r\n            'distance_ly',\r\n            'distance_ls',\r\n            'stock',\r\n            'demand',\r\n            'sell_price',\r\n            'buy_price',\r\n            'time_diff'\r\n        ]\r\n    );\r\n\r\n    const proxyHandler = {\r\n        set(target, prop, val) {\r\n            if (prop === \"data\") {\r\n                table.fillTable(val.data);\r\n                return true;\r\n            }\r\n            return true;\r\n        },\r\n    };\r\n\r\n    const pagination = $pagination.length ?\r\n        new Proxy(new Pagination(7, fetchData, $pagination.html(), table), proxyHandler) : null;\r\n    const sortTable = $pagination.length ?\r\n        new Proxy(new SortTable('.c-table', fetchData, table, pagination), proxyHandler) :\r\n        new Proxy(new SortTable('.c-table', fetchData, table), proxyHandler);\r\n\r\n    pagination && pagination.setEventListeners();\r\n    sortTable && sortTable.setEventListeners();\r\n};\r\n","export const tradeRouteForm = (isValidated, loader, removeLoader) => {\r\n    const $form = $('#tr-form');\r\n    const $trRoute = $('.tr-route');\r\n    removeLoader($trRoute);\r\n\r\n    const handleSubmit = (e) => {\r\n        const cargoSpaceLabel = $('label[for=\\'cargo\\']').get(0);\r\n        const cargoSpace = $('#cargo').get(0);\r\n        const profitLabel = $('label[for=\\'profit\\']').get(0);\r\n        const profit = $('#profit').get(0);\r\n\r\n        if (!$form.get(0).checkValidity()) {\r\n            e.preventDefault();\r\n        } else loader($form, $trRoute);\r\n\r\n        isValidated(cargoSpace, cargoSpaceLabel);\r\n        isValidated(profit, profitLabel);\r\n    };\r\n\r\n    $('.btn-copy').on('click', function () {\r\n        navigator.clipboard.writeText($(this).siblings('.table-link-tr').text());\r\n    });\r\n\r\n    $form.on('submit', (e) => handleSubmit(e));\r\n};\r\n","export const cookiesConsent = () => {\n    const cookieBox = document.querySelector(\".cookies-consent-wrapper\");\n    const acceptBtn = cookieBox.querySelector(\"button\");\n    \n    acceptBtn.addEventListener('click', () => {\n        //setting cookie for 1 month, after one month it'll be expired automatically\n        document.cookie = \"CookieBy=ELIDA; max-age=\" + 60 * 60 * 24 * 30;\n        if (document.cookie) {\n            //if cookie is set\n            cookieBox.classList.add(\"hide\"); //hide cookie box\n        } else {\n            //if cookie not set then alert an error\n            alert(\n                \"Cookie can't be set! Please unblock this site from the cookie setting of your browser.\"\n            );\n        }\n    });\n    const checkCookie = document.cookie.indexOf(\"CookieBy=ELIDA\"); //checking our cookie\n    //if cookie is set then hide the cookie box else show it\n    checkCookie === -1 ? cookieBox.classList.remove(\"hide\") : cookieBox.classList.add(\"hide\");\n};","import '../styles/scss/style.scss';\r\n// import '../styles/bootstrapSCSS/bootstrap.scss';\r\nimport { fetchData } from './fetchData.js';\r\nimport { isValidated } from './isValidated.js';\r\nimport { commoditiesForm } from './commodities.js';\r\nimport { shipModulesForm } from './shipModules.js';\r\nimport { shipsForm } from './ships.js';\r\nimport { tradeRouteForm } from './tradeRoutes.js';\r\nimport { matTraders } from './matTraders.js';\r\nimport { cookiesConsent } from './cookiesConsent.js';\r\n// import {getDataFromDom} from './addToDb.js';\r\n\r\ncookiesConsent();\r\n\r\nconst initHeader = () => {\r\n    $('.menu__link').each(function () {\r\n        if ($(this).attr('href') === window.location.pathname ||\r\n            window.location.pathname.includes($(this).attr('href'))) {\r\n            $(this).addClass('active');\r\n            $(this).closest('.menu__item').children('.menu__link').addClass('active');\r\n        } else {\r\n            $(this).removeClass('active');\r\n            $(this).closest('.menu__link').removeClass('active');\r\n        }\r\n    });\r\n};\r\n\r\nconst initFooter = () => {\r\n    $('.footer__link').each(function () {\r\n        if ($(this).attr('href') === window.location.pathname ||\r\n            window.location.pathname.includes($(this).attr('href'))) {\r\n            $(this).addClass('active');\r\n        } else {\r\n            $(this).removeClass('active');\r\n        }\r\n    });\r\n};\r\n\r\nconst loader = ($insertElem, $hideElem) => {\r\n    $insertElem.after(\"<div class='c-loading my-0 mx-auto text-light bg-info rounded-2 px-3 py-1 fw-bold'>\" +\r\n        \"Loading . . .</div>\");\r\n\r\n    if ($hideElem.length) {\r\n        $hideElem.addClass('d-none');\r\n        $('.c-pagination-cnt').addClass('d-none');\r\n        $('.c-result-legend').addClass('d-none');\r\n    }\r\n};\r\n\r\nconst removeLoader = ($elem) => {\r\n    if ($elem.length) {\r\n        const $loadingPlaceholder = $('.c-loading');\r\n        $loadingPlaceholder.length && $loadingPlaceholder.remove();\r\n    }\r\n};\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    initHeader();\r\n    initFooter();\r\n    if ($('#c-form').length) commoditiesForm(loader, removeLoader, fetchData);\r\n    if ($('#mod-form').length) shipModulesForm(loader, removeLoader, fetchData);\r\n    if ($('#ships-form').length) shipsForm(isValidated, loader, removeLoader, fetchData);\r\n    if ($('#tr-form').length) tradeRouteForm(isValidated, loader, removeLoader);\r\n    if ($('#mt-form').length) matTraders();\r\n\r\n    $('#accordionForm .accordion-button').on('click', function () {\r\n        if ($(this).text().trim() === 'Close form') {\r\n            $(this).text('Open form');\r\n        } else if ($(this).text().trim() === 'Open form') {\r\n            $(this).text('Close form');\r\n        }\r\n    });\r\n\r\n    if ($(\"[role='tablist']\").length) {\r\n        $('.nav-link').on('click', function () {\r\n            $('.nav-link.active').removeClass('active');\r\n            $(this).addClass('active');\r\n            $('.tab-pane.active').removeClass('active');\r\n            $(`#${$(this).attr('data-bs-toggle')}`).addClass('active');\r\n        });\r\n    }\r\n\r\n    // if ($('.add-to-db').length) getDataFromDom(fetchData);\r\n});\r\n","import {Pagination} from './Pagination.js';\nimport {SortTable} from './SortTable.js';\nimport {Table} from './Table.js';\n\nexport const shipModulesForm = (loader, removeLoader, fetchData) => {\n    const $form = $('#mod-form');\n    const $table = $('.mod-table');\n    const $pagination = $('.pagination');\n    removeLoader($table);\n\n    const handleSubmit = (e) => {\n        if (!$form.get(0).checkValidity()) {\n            e.preventDefault();\n        } else loader($form, $table);\n    };\n\n    $form.on('submit', handleSubmit);\n    const table = new Table(\n        'mod-table',\n        [\n            'module',\n            'station',\n            'type',\n            'pad',\n            'system',\n            'distance_ly',\n            'distance_ls',\n            'price',\n            'time_diff'\n        ]\n    );\n\n    const proxyHandler= {\n        set(target, prop, val) {\n            if (prop === \"data\") {\n                table.fillTable(val.data);\n                return true;\n            }\n            return true;\n        },\n    };\n\n    const pagination = $pagination.length ?\n        new Proxy(new Pagination(7, fetchData, $pagination.html(), table), proxyHandler) : null;\n    const sortTable = $pagination.length ?\n        new Proxy(new SortTable('.mod-table', fetchData, table, pagination), proxyHandler) :\n        new Proxy(new SortTable('.mod-table', fetchData, table), proxyHandler);\n\n    pagination && pagination.setEventListeners();\n    sortTable && sortTable.setEventListeners();\n};\n","import {Pagination} from './Pagination.js';\nimport {SortTable} from './SortTable.js';\nimport {Table} from './Table.js';\n\nexport const shipsForm = (isValidated, loader, removeLoader, fetchData) => {\n    const $form = $('#ships-form');\n    const $table = $('.ships-table');\n    const $pagination = $('.pagination');\n    const shipSelectLabel = $('label[for=\\'c-hiddenSelect\\']').get(0);\n    const shipSelect = $('#c-hiddenSelect').get(0);\n    removeLoader($table);\n\n    const handleSubmit = (e) => {\n        if (!$form.get(0).checkValidity()) {\n            e.preventDefault();\n        } else loader($form, $table);\n\n        isValidated(shipSelect, shipSelectLabel);\n    };\n\n   \n\n    $form.on('submit', handleSubmit);\n    const table = new Table(\n        'ships-table',\n        [\n            'ship',\n            'station',\n            'type',\n            'pad',\n            'system',\n            'distance_ly',\n            'distance_ls',\n            'price',\n            'time_diff'\n        ]\n    );\n\n    const proxyHandler= {\n        set(target, prop, val) {\n            if (prop === \"data\") {\n                table.fillTable(val.data);\n                return true;\n            }\n            return true;\n        },\n    };\n\n    const pagination = $pagination.length ?\n        new Proxy(new Pagination(7, fetchData, $pagination.html(), table), proxyHandler) : null;\n    const sortTable = $pagination.length ?\n        new Proxy(new SortTable('.ships-table', fetchData, table, pagination), proxyHandler) :\n        new Proxy(new SortTable('.ships-table', fetchData, table), proxyHandler);\n\n    pagination && pagination.setEventListeners();\n    sortTable && sortTable.setEventListeners();\n};\n","export const matTraders = () => {\r\n    const $form = $('#mt-form');\r\n\r\n    const handleSubmit = (e) => {\r\n        if (!$form.get(0).checkValidity()) {\r\n            e.preventDefault();\r\n        }\r\n    };\r\n\r\n    $form.on('submit', handleSubmit);\r\n};\r\n\r\n"],"names":["fetchData","async","url","method","arguments","length","undefined","body","loaderCnt","$","addClass","enableLoader","res","fetch","mode","headers","ok","json","console","log","error","message","removeClass","disableLoader","isValidated","elem","elemLabel","checkValidity","setValid","setInvalid","attr","validationMessage","concat","text","Pagination","maxPageBtnQty","paginationHTML","table","this","data","SortTable","cnt","pagination","Table","columns","prototype","getCurrentDataPage","renderNewPageBtns","links","next","last","current","totalCount","limit","$pageNumBtns","pageBtnFirstNum","parseInt","eq","pageBtnLastNum","clsBegin","clsEnd","pageBtnQty","html","first","prev","i","href","substring","pageNum","setEventListeners","handleClick","e","preventDefault","currentTarget","parent","is","page","lastPage","resetPagination","on","apply","Object","values","attributeOrders","sortUrl","getRows","fillTable","actualColumns","forEach","item","push","each","rowIndex","show","find","cellIndex","newRowData","hide","tradeRouteForm","loader","removeLoader","$form","$trRoute","navigator","clipboard","writeText","siblings","cargoSpaceLabel","get","cargoSpace","profitLabel","profit","handleSubmit","cookiesConsent","cookieBox","document","querySelector","addEventListener","cookie","classList","add","alert","indexOf","remove","initHeader","window","location","pathname","includes","closest","children","initFooter","$insertElem","$hideElem","after","$elem","$loadingPlaceholder","commoditiesForm","$table","$pagination","proxyHandler","set","target","prop","val","Proxy","sortTable","shipModulesForm","shipsForm","shipSelectLabel","shipSelect","matTraders","trim"],"sourceRoot":""}