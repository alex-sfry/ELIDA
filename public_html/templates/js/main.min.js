(()=>{"use strict";const e=(e,t)=>{const a=document.querySelector("#c-form"),c=document.querySelector(".c-table"),r=document.querySelector(".pagination");t(c);const o=(e,t,a,c,r)=>{const o=document.querySelector("#".concat(e," .page-item.").concat(t," > .page-link")),n=document.querySelector("#".concat(e," .page-item.").concat(r," > .page-link")),s=document.querySelector("#".concat(e," .page-item.").concat(a," > .page-link")),i=document.querySelector("#".concat(e," .page-item.").concat(c," > .page-link")),l=e=>(e.splice(0,2),e.splice(-2,2),e),d=()=>Array.from(document.querySelectorAll("#".concat(e," .page-item > .page-link"))),u=async e=>{e.preventDefault();const t=await(async e=>{try{const t=await fetch(e,{method:"GET",headers:{contentType:"application/json"}});if(t.ok)return await t.json()}catch(e){console.log(e.message)}})(e.currentTarget.getAttribute("href"));var a,c,r;a=t.links,c=t.page+1,r=t.lastPage,document.querySelectorAll("li.disabled").forEach((e=>{e.classList.remove("disabled"),e.classList.remove("active")})),s.setAttribute("href","".concat(a.prev)),i.setAttribute("href","".concat(a.next)),a.self!==a.last&&a.self!==a.first?(l(d()).forEach(((e,t)=>{c+2<r&&c-2>=1?(console.log("page",c),e.textContent=c-2+t,e.setAttribute("data-page",c-2+t)):c-2<1?(console.log("page",c),e.setAttribute("data-page",c-1+t)):c+2>r&&(console.log("page",c),e.textContent=c-3+t,e.setAttribute("data-page",c-3+t)),e.setAttribute("href","".concat(a.first.substring(0,a.first.length-1)).concat(e.textContent))})),document.querySelector("[data-page='".concat(c,"']")).parentElement.classList.add("active","disabled")):a.self===a.first?(console.log("page",c),l(d()).forEach(((e,t)=>{o.parentElement.classList.add("disabled"),s.parentElement.classList.add("disabled"),e.textContent=c+t,e.setAttribute("data-page",c+t),e.setAttribute("href","".concat(a.first.substring(0,a.first.length-1)).concat(e.textContent))})),document.querySelector("[data-page='".concat(c,"']")).parentElement.classList.add("active","disabled")):a.self===a.last&&(console.log("page",c),l(d()).forEach(((e,t)=>{n.parentElement.classList.add("disabled"),i.parentElement.classList.add("disabled"),e.textContent=c-4+t,e.setAttribute("data-page",c-4+t),e.setAttribute("href","".concat(a.first.substring(0,a.first.length-1)).concat(e.textContent))})),document.querySelector("[data-page='".concat(c,"']")).parentElement.classList.add("active","disabled"))};d().forEach((e=>e.addEventListener("click",u)))};a.addEventListener("submit",(t=>(t=>{const a=document.querySelector("#c-form");a.checkValidity()?e(a,c):t.preventDefault()})(t))),r&&(o("pgr01","first","prev-page","next-page","last"),o("pgr02","first","prev-page","next-page","last"))},t=(e,t,a)=>{const c=document.querySelector("#tr-form");c.addEventListener("submit",(t=>(t=>{const a=document.querySelector("label[for='cargo']"),r=document.querySelector("#cargo"),o=document.querySelector("label[for='profit']"),n=document.querySelector("#profit");c.checkValidity()||t.preventDefault(),e(r,a),e(n,o)})(t)))},a=(e,t)=>{e.checkValidity()?r(e,t):c(e,t)},c=(e,t)=>{t.classList.add("text-danger","is-invalid"),e.classList.remove("border-dark"),e.classList.add("is-invalid","border-2","border-danger")},r=(e,t)=>{t.classList.remove("text-danger","is-invalid"),e.classList.add("border-dark"),e.classList.remove("is-invalid","border-2","border-danger")},o=(e,t)=>{e.insertAdjacentHTML("afterend","<div class='c-loading my-0 mx-auto text-light bg-light-orange rounded-2 p-2 fw-bold'>Loading . . .</div>"),t&&(t.classList.add("d-none"),document.querySelectorAll(".Zebra_Pagination").forEach((e=>{e.classList.add("d-none")})))},n=e=>{if(e){const e=document.querySelector(".c-loading");e&&e.remove()}};document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".menu__link").forEach((e=>{e.getAttribute("href")===window.location.pathname||window.location.pathname.includes(e.getAttribute("href"))?e.classList.add("active"):e.classList.remove("active")})),document.querySelector("#c-form")&&e(o,n),document.querySelector("#tr-form")&&t(a)}))})();
//# sourceMappingURL=main.min.js.map