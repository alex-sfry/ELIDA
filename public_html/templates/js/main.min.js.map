{"version":3,"file":"js/main.min.js","mappings":"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","sources":["webpack://webpack-eddn/./src/script/isValidated.js","webpack://webpack-eddn/./src/script/tradeRoutes.js","webpack://webpack-eddn/./src/script/tSelectSettings.js","webpack://webpack-eddn/./src/script/sortIcons.js","webpack://webpack-eddn/./src/script/cookiesConsent.js","webpack://webpack-eddn/./src/script/main.js","webpack://webpack-eddn/./src/script/matTraders.js","webpack://webpack-eddn/./src/script/tSelect.js"],"sourcesContent":["export const validate = (elem) => {\r\n    if ($(elem).attr('pattern') === \"[0-9]+\") {\r\n        if (elem.validationMessage === 'Please match the requested format.') {\r\n            $(`#${$(elem).attr('id')} ~ .invalid-feedback`).text('Only numeric values are allowed');\r\n        } else {\r\n            $(`#${$(elem).attr('id')} ~ .invalid-feedback`).text('Field must not be empty');\r\n        }\r\n    }\r\n};\r\n\r\n\r\n","export const tradeRouteForm = (validate, loader, removeLoader) => {\r\n    const $form = $('#tr-form');\r\n    const $trRoute = $('.tr-route');\r\n    removeLoader($trRoute);\r\n\r\n    const handleSubmit = (e) => {\r\n        const cargoSpace = $('#cargo').get(0);\r\n        const profit = $('#profit').get(0);\r\n\r\n        if (!$form.get(0).checkValidity()) {\r\n            $('#tr-form').addClass('was-validated');\r\n            e.preventDefault();\r\n        } else loader($form, $trRoute);\r\n\r\n        validate(cargoSpace);\r\n        validate(profit);\r\n    };\r\n\r\n    $('.btn-copy').on('click', function () {\r\n        navigator.clipboard.writeText($(this).siblings('.table-link-tr').text());\r\n        $(this).text('copied').addClass('btn-copy-active');\r\n        $(\".btn-copy:contains('copied')\").not(this).text('copy').removeClass('btn-copy-active');\r\n        \r\n    });\r\n\r\n    $form.on('submit', (e) => handleSubmit(e));\r\n};\r\n","export const tSelectRingsSettings = (config) => {\n    return {\n        searchField: config.searchField,\n        valueField: config.valueField,\n        labelField: config.labelField,\n        plugins: config.plugins,\n        sortField: [{ field: '$order' }, { field: '$score' }],\n        loadThrottle: 500,\n        hideSelected: true,\n        highlight: false,\n        shouldLoad: query => query.length < 2 ? false : true,\n        load: async function (query, callback) {\n            this.clearOptions();\n            try {\n                const response = await fetch(`${config.endpoint}${query}/`);\n                if (response.ok) {\n                    callback(await response.json());\n                } else {\n                    console.log('fetch error');\n                }\n            }\n            catch (error) {\n                console.log(error.message);\n                callback();\n            }\n        }\n    };\n};","export const getSortIcon = (icon) => {\n    const sortAsc = `\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi        bi-sort-up\" viewBox=\"0 0 16 16\">\n    <path d=\"M3.5 12.5a.5.5 0 0 1-1 0V3.707L1.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.5.5 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L3.5 3.707zm3.5-9a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z\"/>\n    </svg>\n    `;\n\n    const sortDesc = `\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-sort-down\" viewBox=\"0 0 16 16\">\n    <path d=\"M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z\"/>\n    </svg>\n    `;\n\n    const hourGlass = `\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-hourglass\" viewBox=\"0 0 16 16\">\n    <path d=\"M2 1.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1-.5-.5m2.5.5v1a3.5 3.5 0 0 0 1.989 3.158c.533.256 1.011.791 1.011 1.491v.702c0 .7-.478 1.235-1.011 1.491A3.5 3.5 0 0 0 4.5 13v1h7v-1a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351v-.702c0-.7.478-1.235 1.011-1.491A3.5 3.5 0 0 0 11.5 3V2z\"/>\n    </svg>\n    `;\n\n    switch (icon) {\n        case 'asc':\n            return sortAsc;\n        case 'desc':\n            return sortDesc;\n        case 'hourGlass':\n            return hourGlass;\n        default:\n            return hourGlass;\n    }\n};","export const cookiesConsent = () => {\n    const cookieBox = document.querySelector(\".cookies-consent-wrapper\");\n    const acceptBtn = cookieBox.querySelector(\"button\");\n    \n    acceptBtn.addEventListener('click', () => {\n        //setting cookie for 1 month, after one month it'll be expired automatically\n        document.cookie = \"CookieBy=ELIDA; path=/; max-age=\" + 60 * 60 * 24 * 30;\n        if (document.cookie) {\n            //if cookie is set\n            cookieBox.classList.add(\"hide\"); //hide cookie box\n        } else {\n            //if cookie not set then alert an error\n            alert(\n                \"Cookie can't be set! Please unblock this site from the cookie setting of your browser.\"\n            );\n        }\n    });\n    const checkCookie = document.cookie.indexOf(\"CookieBy=ELIDA\"); //checking our cookie\n    //if cookie is set then hide the cookie box else show it\n    checkCookie === -1 ? cookieBox.classList.remove(\"hide\") : cookieBox.classList.add(\"hide\");\n};","import '../styles/scss/style.scss';\r\n// import '../styles/bootstrapSCSS/bootstrap.scss';\r\nimport { validate } from './isValidated.js';\r\nimport { tradeRouteForm } from './tradeRoutes.js';\r\nimport { matTraders } from './matTraders.js';\r\nimport { cookiesConsent } from './cookiesConsent.js';\r\nimport { initTSelect } from './tSelect.js';\r\nimport { getSortIcon } from \"./sortIcons.js\";\r\n\r\ncookiesConsent();\r\n\r\nconst initHeader = () => {\r\n    $('.menu__link').each(function () {\r\n        if ($(this).attr('href') === window.location.pathname) {\r\n            $(this).addClass('active');\r\n            $(this).closest('.menu__item').children('.menu__link').addClass('active');\r\n        } else {\r\n            $(this).removeClass('active');\r\n            $(this).closest('.menu__link').removeClass('active');\r\n        }\r\n    });\r\n};\r\n\r\nconst initFooter = () => {\r\n    $('.footer__link').each(function () {\r\n        if ($(this).attr('href') === window.location.pathname ||\r\n            window.location.pathname.includes($(this).attr('href'))) {\r\n            $(this).addClass('active');\r\n        } else {\r\n            $(this).removeClass('active');\r\n        }\r\n    });\r\n};\r\n\r\nconst loader = ($insertElem, $hideElem) => {\r\n    const $loaderCnt = $('.loader-cnt');\r\n    const loaderHtml = \"<div class='c-loading my-0 mx-auto text-light bg-info rounded-2 px-3 py-1 fw-bold'>\" +\r\n    \"Loading . . .\" +\r\n    \"</div>\";\r\n\r\n    if ($loaderCnt.length) {\r\n        $loaderCnt.after(loaderHtml);\r\n        $loaderCnt.removeClass('d-none');\r\n    } else {\r\n        $insertElem.after(loaderHtml);\r\n    }\r\n\r\n    $('p.result-info').length && $('p.result-info').addClass('d-none');\r\n\r\n    if ($hideElem.length) {\r\n        $hideElem.addClass('d-none');\r\n        $('.c-pagination-cnt').addClass('d-none');\r\n        $('.c-result-legend').addClass('d-none');\r\n    }\r\n};\r\n\r\nconst removeLoader = ($elem) => {\r\n    if ($elem.length) {\r\n        const $loadingPlaceholder = $('.c-loading');\r\n        $loadingPlaceholder.length && $loadingPlaceholder.remove();\r\n    }\r\n};\r\n\r\nconst handleSubmit = function (e) {\r\n    if ($('#tr-form').length) return;\r\n\r\n    if (!this.checkValidity()) {\r\n        e.preventDefault();\r\n        $(this).addClass(\"was-validated\");\r\n    } else loader($('.accordion').last(), $('table.c-table'));\r\n};\r\n\r\n$('form').on(\"submit\", handleSubmit);\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    initHeader();\r\n    initFooter();\r\n    if ($('#c-form').length) removeLoader($('table'));\r\n    if ($('#mod-form').length) removeLoader($('table'));\r\n    if ($('#ships-form').length) removeLoader($('table'));\r\n    if ($('#tr-form').length) tradeRouteForm(validate, loader, removeLoader);\r\n    if ($('#mt-form').length) matTraders();\r\n\r\n    if ($('.get-form').length) removeLoader($('table'));\r\n    if ($('.t-sel').length) initTSelect('#refSystem');\r\n    if ($('#rings-form').length) removeLoader($('table'));\r\n\r\n    // accordion - switch title \r\n    $('#accordionForm .accordion-button').on('click', function () {\r\n        if ($(this).text().trim() === 'Close form') {\r\n            $(this).text('Open form');\r\n        } else if ($(this).text().trim() === 'Open form') {\r\n            $(this).text('Close form');\r\n        }\r\n    });\r\n\r\n    // sorting table\r\n    $('table th.sortable > a').each(function () {\r\n        const $elem = $(this);\r\n        $elem.hasClass('asc') && $elem.append(getSortIcon('asc'));\r\n        $elem.hasClass('desc') && $elem.append(getSortIcon('desc'));\r\n        !$elem.hasClass('asc') && !$elem.hasClass('desc') && $elem.append(getSortIcon('hourGlass'));\r\n    });\r\n\r\n    // gridview\r\n    if ($('#w0'.length > 0)) {\r\n        const $filterBtns = $('.filters .btn');\r\n\r\n        $filterBtns.on('click', function () {\r\n            $filterBtns.prev().trigger('change.yiiGridView');\r\n        });\r\n\r\n        $('.filters input').on('change', function () {\r\n            return false;\r\n        });\r\n    }\r\n\r\n    // if ($('.add-to-db').length) getDataFromDom(fetchData);\r\n});\r\n","export const matTraders = () => {\r\n    const $form = $('#mt-form');\r\n\r\n    const handleSubmit = (e) => {\r\n        if (!$form.get(0).checkValidity()) {\r\n            $form.addClass('was-validated');\r\n            e.preventDefault();\r\n        }\r\n    };\r\n\r\n    $form.on('submit', handleSubmit);\r\n};\r\n\r\n","import { tSelectRingsSettings } from \"./tSelectSettings.js\";\n\n/**\n * @param {string} elem \n */\nexport const initTSelect = (elem) => {\n    // eslint-disable-next-line no-undef, no-unused-vars\n    const tSelect = new TomSelect(elem, tSelectRingsSettings({\n        searchField: 'system',\n        valueField: 'system',\n        labelField: 'system',\n        plugins: ['dropdown_input'],\n        endpoint: '/system/get/'\n    }));\n\n    // fix for TomSelect label bug (id, for)\n    $('.tselect-lbl-1').attr('for', 'refSystem');\n    $('.tselect-lbl-1').removeAttr('id');\n};"],"names":["validate","elem","$","attr","validationMessage","text","tradeRouteForm","loader","removeLoader","$form","$trRoute","on","navigator","clipboard","writeText","this","siblings","addClass","not","removeClass","e","cargoSpace","get","profit","checkValidity","preventDefault","handleSubmit","tSelectRingsSettings","config","searchField","valueField","labelField","plugins","sortField","field","loadThrottle","hideSelected","highlight","shouldLoad","query","length","load","async","callback","clearOptions","response","fetch","endpoint","ok","json","console","log","error","message","getSortIcon","icon","hourGlass","cookiesConsent","cookieBox","document","querySelector","addEventListener","cookie","classList","add","alert","indexOf","remove","initHeader","each","window","location","pathname","closest","children","initFooter","includes","$insertElem","$hideElem","$loaderCnt","loaderHtml","after","$elem","$loadingPlaceholder","last","matTraders","TomSelect","removeAttr","trim","hasClass","append","$filterBtns","prev","trigger"],"sourceRoot":""}