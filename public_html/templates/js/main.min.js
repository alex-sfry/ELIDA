(()=>{"use strict";const e=(e,t,a,c,n)=>{const r=document.querySelectorAll(".pagination"),o=()=>document.querySelector("li.active > a").getAttribute("data-page"),i=async e=>{if(e.preventDefault(),e.currentTarget.parentElement.classList.contains("active"))return;const t=await(async e=>{try{const t=await fetch(e,{method:"GET",headers:{contentType:"application/json"}});if(t.ok)return await t.json()}catch(e){console.log(e.message)}})(e.currentTarget.getAttribute("href"));console.log(t),((e,t,a,c,i,l,s)=>{const d=document.querySelectorAll(".page-counter"),u=Array.from(document.querySelectorAll("li > .page-link")),g=parseInt(u[2].getAttribute("data-page"))+1,m=parseInt(u[u.length-3].getAttribute("data-page"))+1,p=1===t?"page-link disabled":"page-link",f=t===a?"page-link disabled":"page-link";let h='<li class="page-item first"><a class="'.concat(p,'" href="').concat(e.first,'" data-page="0">first</a></li>');h+='<li class="page-item prev-page">\n                    <a class="'.concat(p,'" href="').concat(e.prev,'" data-page="').concat(t-1,'">\n                        <span aria-hidden="true">«</span>\n                    </a>\n                </li>');for(let r=0;r<n;r++){const o=e.first.substring(0,e.first.length-1);let i;i=t>c?t>=a-1?a-(n-1)+r:m-t<2?t-(n-3)+r:g+r:t<=2?1+r:t-g<2?t-2+r:g+r,h+='<li class="'.concat(i===t?"page-item active":"page-item",'">\n                        <a class="page-link" href="').concat(o).concat(i,'" data-page="').concat(i-1,'">').concat(i,"</a>\n                    </li>")}h+='<li class="page-item next-page">\n                    <a class="'.concat(f,'" href="').concat(e.next,'" data-page="').concat(t-1,'">\n                        <span aria-hidden="true">»</span>\n                    </a>\n                </li>'),h+='<li class="page-item last">\n                    <a class="'.concat(f,'" href="').concat(e.last,'" data-page="').concat(a-1,'">last</a>\n                </li>'),r.forEach((e=>e.innerHTML=h)),d.forEach((e=>e.textContent="".concat(o()*l+1," - ").concat(t*l<i?t*l:i," / ").concat(i))),s()})(t.links,t.page+1,t.lastPage,o(),t.totalCount,t.limit,l)},l=()=>{document.querySelectorAll(".page-item > .page-link").forEach((e=>e.addEventListener("click",i)))};l()},t=(t,a)=>{const c=document.querySelector("#c-form"),n=document.querySelector(".c-table"),r=document.querySelector(".pagination");a(n);c.addEventListener("submit",(e=>(e=>{const a=document.querySelector("#c-form");a.checkValidity()?t(a,n):e.preventDefault()})(e))),r&&e(0,0,0,0,7)},a=(e,t,a)=>{const c=document.querySelector("#tr-form");c.addEventListener("submit",(t=>(t=>{const a=document.querySelector("label[for='cargo']"),n=document.querySelector("#cargo"),r=document.querySelector("label[for='profit']"),o=document.querySelector("#profit");c.checkValidity()||t.preventDefault(),e(n,a),e(o,r)})(t)))},c=(e,t)=>{e.checkValidity()?r(e,t):n(e,t)},n=(e,t)=>{t.classList.add("text-danger","is-invalid"),e.classList.remove("border-dark"),e.classList.add("is-invalid","border-2","border-danger")},r=(e,t)=>{t.classList.remove("text-danger","is-invalid"),e.classList.add("border-dark"),e.classList.remove("is-invalid","border-2","border-danger")},o=(e,t)=>{e.insertAdjacentHTML("afterend","<div class='c-loading my-0 mx-auto text-light bg-light-orange rounded-2 p-2 fw-bold'>Loading . . .</div>"),t&&(t.classList.add("d-none"),document.querySelectorAll(".Zebra_Pagination").forEach((e=>{e.classList.add("d-none")})))},i=e=>{if(e){const e=document.querySelector(".c-loading");e&&e.remove()}};document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".menu__link").forEach((e=>{e.getAttribute("href")===window.location.pathname||window.location.pathname.includes(e.getAttribute("href"))?e.classList.add("active"):e.classList.remove("active")})),document.querySelector("#c-form")&&t(o,i),document.querySelector("#tr-form")&&a(c)}))})();
//# sourceMappingURL=main.min.js.map